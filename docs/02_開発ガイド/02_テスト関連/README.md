# 🧪 テスト関連

## 📋 **概要**
ShiftWithプロジェクトの品質保証のためのテスト戦略、実行手順、品質基準を定義したドキュメント集です。

## 📚 **ドキュメント一覧**

### 🎯 **テスト戦略・方針**

#### [📊 テスト標準](./02_テスト標準.md)
- プロジェクト全体のテスト方針
- テストレベル定義（単体・統合・E2E）
- カバレッジ基準とKPI

#### [📖 テストガイド](./03_テストガイド.md)
- 具体的なテスト実行方法
- 各テストフレームワークの使い方
- デバッグ・トラブルシューティング

### 🚀 **リリース・デプロイ関連**

#### [✅ リリース前テスト手順書](./04_リリース前テスト手順書.md)
- リリース判定基準
- マニュアルテスト項目
- 品質ゲート通過条件

#### [🔗 結合テスト項目書](./05_結合テスト項目書.md)
- システム間連携テスト詳細
- API統合テストシナリオ
- データフロー検証

### 🛠️ **環境・ツール設定**

#### [🐳 MCP-Supabaseテスト環境構築](./06_MCP-Supabaseテスト環境構築.md)
- テスト用データベース環境
- MCP (Model Context Protocol) 設定
- テストデータ管理

#### [🎭 MCP版リリース前テスト実行手順](./08_MCP版リリース前テスト実行手順.md) ⭐
- **最新のテスト実行手順**
- Playwright-MCP使用方法
- E2Eテスト完全ガイド

### 📊 **テスト結果・データ**

#### [📄 test-results.json](./test-results.json)
- 最新のテスト実行結果
- パフォーマンス測定データ
- 品質メトリクス

## 🏃‍♂️ **テスト実行クイックガイド**

### 📝 **基本テスト実行**
```bash
# 品質チェック一括実行
npm run deploy:check           # 全品質チェック

# 個別テスト実行
npm run type-check             # TypeScript型チェック
npm run lint                   # ESLint
npm run test:unit              # 単体テスト
npm run test:integration       # 統合テスト
```

### 🎭 **E2Eテスト (推奨方法)**
```bash
# MCP-Playwright使用（推奨）
# ブラウザ直接制御でより正確なテスト
npm run check:dev              # 開発環境E2Eテスト
npm run check:staging          # ステージング環境E2Eテスト
npm run check:production       # 本番環境E2Eテスト
```

### 📊 **テスト結果確認**
```bash
# カバレッジレポート生成
npm run test:coverage

# 詳細テストレポート確認
open ./test-results/index.html
```

## 🎯 **テストレベル別ガイド**

### 🔬 **単体テスト**
- **目的**: 個別関数・コンポーネントの動作確認
- **実行頻度**: 開発中随時
- **合格基準**: カバレッジ80%以上、全テスト成功

### 🔗 **統合テスト**
- **目的**: モジュール間、API間の連携確認
- **実行頻度**: コミット前、デプロイ前
- **合格基準**: 主要フロー100%動作

### 🎭 **E2Eテスト**
- **目的**: ユーザー視点での全体動作確認
- **実行頻度**: リリース前、定期実行
- **合格基準**: クリティカルパス100%動作

## 📋 **テスト実行チェックリスト**

### ✅ **開発中**
- [ ] 新機能の単体テスト作成
- [ ] 既存テストの影響確認
- [ ] TypeScript型エラー解消
- [ ] ESLint警告解消

### ✅ **コミット前**
- [ ] 全単体テスト成功
- [ ] 統合テスト成功
- [ ] カバレッジ基準クリア
- [ ] 品質チェック完了

### ✅ **リリース前**
- [ ] 全自動テスト成功
- [ ] E2Eテスト完了
- [ ] マニュアルテスト実施
- [ ] パフォーマンス確認

## 🚨 **テスト失敗時の対応**

### 🔍 **問題調査手順**
1. エラーメッセージ詳細確認
2. 関連ログファイル確認
3. テスト環境状態確認
4. コード変更点との関連性調査

### 🛠️ **よくある解決方法**
```bash
# テストキャッシュクリア
npm run test -- --clearCache

# 依存関係再インストール
rm -rf node_modules package-lock.json
npm install

# テスト環境リセット
npm run docker:reset
```

## 🎯 **次に読むべきドキュメント**

テストに習熟したら：
- [../03_デプロイ・運用/15_完全デプロイフロー.md](../03_デプロイ・運用/15_完全デプロイフロー.md) - デプロイ連携
- [../05_トラブルシューティング/16_緊急時対応チェックリスト.md](../05_トラブルシューティング/16_緊急時対応チェックリスト.md) - 問題対応

**🎯 品質の高いソフトウェアを継続的に提供しましょう！**
