{
  "timestamp": "2025-06-01T06:48:30.420Z",
  "summary": {
    "total": 14,
    "passed": 14,
    "failed": 0,
    "execution_time": 898
  },
  "sections": {
    "CONNECTION": {
      "name": "基本接続テスト",
      "tests": [
        {
          "id": "CONN.1",
          "description": "Supabase基本接続確認",
          "status": "PASS",
          "duration": 183,
          "error": null,
          "metrics": {
            "total_materials": 18,
            "sample_data": 1
          },
          "timestamp": "2025-06-01T06:48:30.617Z"
        },
        {
          "id": "CONN.2",
          "description": "テーブルスキーマ確認",
          "status": "PASS",
          "duration": 221,
          "error": null,
          "metrics": {
            "table_status": {
              "materials": "OK",
              "activities": "activities: relation \"public.activities\" does not exist",
              "profiles": "OK",
              "resource_categories": "OK"
            }
          },
          "timestamp": "2025-06-01T06:48:30.838Z"
        }
      ],
      "summary": {
        "total": 2,
        "passed": 2,
        "failed": 0
      }
    },
    "3.1A": {
      "name": "データベース保存検証",
      "tests": [
        {
          "id": "3.1A.1",
          "description": "materialsテーブルへの保存確認",
          "status": "PASS",
          "duration": 41,
          "error": null,
          "metrics": {
            "count": 0,
            "total_count": 0
          },
          "timestamp": "2025-06-01T06:48:30.879Z"
        },
        {
          "id": "3.1A.2",
          "description": "UUID自動生成機能確認",
          "status": "PASS",
          "duration": 69,
          "error": null,
          "metrics": {
            "sample_uuid": "bf781f35-9ac1-4317-af57-d20be62f17f1"
          },
          "timestamp": "2025-06-01T06:48:30.948Z"
        },
        {
          "id": "3.1A.3",
          "description": "user_id正しい設定確認",
          "status": "PASS",
          "duration": 59,
          "error": null,
          "metrics": {
            "records_with_user_id": 5
          },
          "timestamp": "2025-06-01T06:48:31.007Z"
        },
        {
          "id": "3.1A.4",
          "description": "JSONBコンテンツ保存確認",
          "status": "PASS",
          "duration": 40,
          "error": null,
          "metrics": {
            "sample_content_type": "string"
          },
          "timestamp": "2025-06-01T06:48:31.047Z"
        },
        {
          "id": "3.1A.5",
          "description": "タイムスタンプ自動設定確認",
          "status": "PASS",
          "duration": 47,
          "error": null,
          "metrics": {
            "records_with_timestamps": 5
          },
          "timestamp": "2025-06-01T06:48:31.094Z"
        }
      ],
      "summary": {
        "total": 5,
        "passed": 5,
        "failed": 0
      }
    },
    "3.1B": {
      "name": "関連テーブル連携",
      "tests": [
        {
          "id": "3.1B.1",
          "description": "activitiesテーブル記録確認",
          "status": "PASS",
          "duration": 0,
          "error": null,
          "metrics": {
            "table_exists": false,
            "note": "テーブルなしのためスキップ"
          },
          "timestamp": "2025-06-01T06:48:31.137Z"
        },
        {
          "id": "3.1B.2",
          "description": "ポイント付与記録確認",
          "status": "PASS",
          "duration": 1,
          "error": null,
          "metrics": {
            "table_exists": false,
            "note": "テーブルなしのためスキップ"
          },
          "timestamp": "2025-06-01T06:48:31.138Z"
        },
        {
          "id": "3.1B.7",
          "description": "トランザクション整合性確認",
          "status": "PASS",
          "duration": 35,
          "error": null,
          "metrics": {
            "materials_with_user_id": 0,
            "note": "activitiesテーブルなしのため材料テーブルのみ"
          },
          "timestamp": "2025-06-01T06:48:31.173Z"
        }
      ],
      "summary": {
        "total": 3,
        "passed": 3,
        "failed": 0
      }
    },
    "3.1D": {
      "name": "エラーハンドリング",
      "tests": [
        {
          "id": "3.1D.2",
          "description": "制約違反エラーハンドリング",
          "status": "PASS",
          "duration": 35,
          "error": null,
          "metrics": {
            "error_code": "23502",
            "error_message": "null value in column \"user_id\" of relation \"materials\" violates not-null constraint"
          },
          "timestamp": "2025-06-01T06:48:31.208Z"
        },
        {
          "id": "3.1D.4",
          "description": "ロールバック動作確認",
          "status": "PASS",
          "duration": 40,
          "error": null,
          "metrics": {
            "write_permission_granted": true
          },
          "timestamp": "2025-06-01T06:48:31.248Z"
        }
      ],
      "summary": {
        "total": 2,
        "passed": 2,
        "failed": 0
      }
    },
    "3.1E": {
      "name": "パフォーマンス・容量",
      "tests": [
        {
          "id": "3.1E.1",
          "description": "大容量コンテンツ処理確認",
          "status": "PASS",
          "duration": 34,
          "error": null,
          "metrics": {
            "query_duration": 34,
            "content_size": 10544
          },
          "timestamp": "2025-06-01T06:48:31.282Z"
        },
        {
          "id": "3.1E.3",
          "description": "応答速度測定（<3秒目標）",
          "status": "PASS",
          "duration": 37,
          "error": null,
          "metrics": {
            "query_duration": 37,
            "target_duration": 3000,
            "records_fetched": 10
          },
          "timestamp": "2025-06-01T06:48:31.319Z"
        }
      ],
      "summary": {
        "total": 2,
        "passed": 2,
        "failed": 0
      }
    }
  }
}