# 🚀 クイックスタートガイド

## 📋 **概要**
ShiftWithプロジェクトの開発・デプロイ・確認作業を効率的に行うためのクイックリファレンスです。

## 🖥️ **開発環境セットアップ**

### 1️⃣ **初回セットアップ**
```bash
# リポジトリクローン
git clone [リポジトリURL]
cd personality-quiz

# 依存関係インストール
npm install

# Docker Supabase起動
npm run docker:up

# 環境確認
npm run check:dev
```

### 2️⃣ **日常的な開発作業**
```bash
# 開発開始
npm run docker:up        # Docker Supabase起動
npm run dev              # Next.js開発サーバー起動

# 品質チェック
npm run deploy:check     # 全品質チェック
npm run type-check       # TypeScript確認
npm run lint             # ESLint確認
npm run test             # テスト実行

# 環境確認
npm run check:dev        # 開発環境確認
./scripts/quick-check.sh dev  # クイック確認
```

## 🔍 **環境確認コマンド**

### 📊 **全自動確認**
```bash
npm run check:dev         # 🖥️ 開発環境確認
npm run check:staging     # 🧪 ステージング確認
npm run check:production  # 🚀 本番環境確認
npm run check:all         # 🌍 全環境確認
```

### ⚡ **クイック確認**
```bash
./scripts/quick-check.sh dev        # 開発環境
./scripts/quick-check.sh staging    # ステージング
./scripts/quick-check.sh production # 本番
./scripts/quick-check.sh all        # 全環境
```

### 🔧 **手動確認**
```bash
# 基本接続確認
curl -I http://localhost:3000/              # 開発
curl -I https://staging.shiftwith.app/       # ステージング
curl -I https://shiftwith-sigma.vercel.app/  # 本番

# API確認
curl -s "http://localhost:3003/profiles"                            # 開発API
curl -s "https://staging.shiftwith.app/api/profiles"                # ステージングAPI
curl -s "https://shiftwith-sigma.vercel.app/api/profiles"           # 本番API
```

## 🚀 **デプロイフロー**

### 📝 **通常デプロイ**
```bash
# 1. 開発完了確認
npm run check:dev
npm run deploy:check

# 2. Pull Request作成
git add .
git commit -m "feat: 新機能実装"
git push origin feature/機能名

# 3. マージ後自動デプロイ
# - develop → ステージング自動デプロイ
# - main → 本番自動デプロイ
```

### 🆘 **緊急デプロイ**
```bash
# 緊急修正
git checkout main
git checkout -b hotfix/emergency-fix
# 修正作業
git commit -m "hotfix: 緊急修正"
git push origin hotfix/emergency-fix

# 緊急デプロイ
npm run deploy:production

# 確認
npm run check:production
```

### 🔄 **ロールバック**
```bash
npm run deploy:rollback:staging     # ステージングロールバック
npm run deploy:rollback:production  # 本番ロールバック
```

## 📊 **監視・ログ確認**

### 📋 **ログ確認**
```bash
npm run deploy:logs:staging     # ステージングログ
npm run deploy:logs:production  # 本番ログ
npm run docker:logs             # Dockerログ
```

### 📈 **状態確認**
```bash
npm run deploy:status:staging     # ステージング状態
npm run deploy:status:production  # 本番状態
docker-compose ps                 # Docker状態
```

## 🎯 **各環境での重要確認項目**

### 🖥️ **開発環境**
- [ ] Docker Supabase起動
- [ ] Next.js開発サーバー起動
- [ ] API応答正常
- [ ] TypeScript/ESLintエラーゼロ
- [ ] テスト全合格

### 🧪 **ステージング環境**
- [ ] 基本接続正常
- [ ] 全機能動作
- [ ] パフォーマンス良好
- [ ] E2Eテスト合格
- [ ] セキュリティ確認

### 🚀 **本番環境**
- [ ] サイト正常稼働
- [ ] API正常応答
- [ ] 応答時間1秒以下
- [ ] エラー率0.1%以下
- [ ] 監視システム正常

## 🚨 **トラブルシューティング**

### 🔧 **よくある問題と解決法**

#### Docker起動しない
```bash
# Docker Desktop起動確認
open -a Docker

# 強制リセット
npm run docker:reset
```

#### ポート競合
```bash
# ポート使用状況確認
lsof -i :3000
lsof -i :3003

# プロセス終了
kill -9 [PID]
```

#### テスト失敗
```bash
# キャッシュクリア
npm run test -- --clearCache

# 依存関係再インストール
rm -rf node_modules package-lock.json
npm install
```

#### デプロイ失敗
```bash
# 即座ロールバック
npm run deploy:rollback:production

# ログ確認
npm run deploy:logs:production

# 環境確認
npm run check:production
```

## 📚 **重要ドキュメント**

### 🎯 **開発関連**
- [ディレクトリ構造](./01_ディレクトリ構造.md)
- [テストガイド](./03_テストガイド.md)
- [コーディング規約](./04_コーディング規約.md)

### 🚀 **デプロイ関連**
- [完全デプロイフロー](./15_完全デプロイフロー.md)
- [緊急時対応チェックリスト](./16_緊急時対応チェックリスト.md)
- [環境別確認チェックリスト](./17_環境別確認チェックリスト.md)

### 📊 **運用関連**
- [本番運用ガイド](./10_本番運用ガイド.md)
- [パフォーマンス最適化](./08_パフォーマンス最適化.md)
- [セキュリティガイド](./09_セキュリティガイド.md)

## 🎉 **ベストプラクティス**

### ✅ **推奨作業フロー**
1. **開始時**: `npm run check:dev` で環境確認
2. **開発中**: 小さく頻繁にコミット
3. **完了時**: `npm run deploy:check` で品質確認
4. **デプロイ後**: 各環境での動作確認

### 🔒 **安全性確保**
- mainブランチ直接pushは絶対禁止
- 本番デプロイ前必ずステージング確認
- 問題発生時は即座ロールバック
- 全変更にテストコード必須

### ⚡ **効率化Tips**
- エイリアス設定でコマンド短縮
- IDE拡張機能でリアルタイム確認
- 監視ダッシュボードでプロアクティブ対応
- 定期的なドキュメント更新

---

## 🔗 **クイックリンク**

### 🌐 **環境URL**
- 🖥️ 開発: http://localhost:3000
- 🧪 ステージング: https://staging.shiftwith.app
- 🚀 本番: https://shiftwith-sigma.vercel.app

### 📊 **ダッシュボード**
- Vercel: https://vercel.com/dashboard
- Supabase: https://supabase.com/dashboard
- GitHub: https://github.com/[your-org]/personality-quiz

### 🚨 **緊急時連絡先**
- 開発チーム: #shiftwith-dev
- インフラ: #shiftwith-ops
- ビジネス: #shiftwith-business

---

## 📞 **ヘルプ**

問題や質問がある場合は：

1. **まず確認**: このガイドとドキュメント
2. **環境確認**: `npm run check:all`
3. **ログ確認**: `npm run deploy:logs:production`
4. **チーム相談**: Slackで質問
5. **緊急時**: 緊急時対応チェックリストに従う

**🎯 常にユーザーファーストの安全な開発を心がけましょう！**
