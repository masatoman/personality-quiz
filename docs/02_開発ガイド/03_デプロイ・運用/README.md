# 🚀 デプロイ・運用

## 📋 **概要**
ShiftWithプロジェクトの本番環境への安全なデプロイと継続的な運用管理のためのドキュメント集です。

## 📚 **ドキュメント一覧**

### 🎯 **包括的デプロイガイド (最新・推奨)**

#### [🚀 完全デプロイフロー](./15_完全デプロイフロー.md) ⭐
- **ローカル→ステージング→本番の完全フロー**
- 各段階での品質チェック
- 自動化スクリプト使用方法
- 緊急時ロールバック手順

#### [🔍 環境別確認チェックリスト](./17_環境別確認チェックリスト.md) ⭐
- **開発・ステージング・本番の確認項目**
- 自動化された確認コマンド
- 環境別合格基準
- トラブルシューティング

### 🏗️ **インフラ・アーキテクチャ**

#### [📊 デプロイメント構成図](./06_デプロイメント構成図.md)
- システムアーキテクチャ全体像
- インフラ構成とネットワーク
- サービス間連携図

#### [📖 本番デプロイ手順書](./07_本番デプロイ手順書.md)
- 基本的なデプロイ手順
- 前提条件と事前準備
- デプロイ後の確認項目

### 📊 **継続運用**

#### [📈 本番運用ガイド](./10_本番運用ガイド.md)
- 日常的な運用作業
- 監視・メトリクス確認
- 定期メンテナンス

## 🏃‍♂️ **デプロイクイックガイド**

### 🎯 **通常デプロイ (推奨フロー)**
```bash
# 1. 開発完了確認
npm run check:dev              # 開発環境確認
npm run deploy:check           # 全品質チェック

# 2. ステージング確認
npm run deploy:staging         # ステージングデプロイ
npm run check:staging          # ステージング確認

# 3. 本番デプロイ
npm run deploy:production      # 本番デプロイ
npm run check:production       # 本番確認
```

### 🚨 **緊急デプロイ**
```bash
# 緊急修正ブランチ作成
git checkout main
git checkout -b hotfix/emergency-fix

# 修正・テスト
npm run deploy:check

# 緊急デプロイ実行
npm run deploy:production

# 即座確認
npm run check:production
```

### 🔄 **ロールバック**
```bash
# 即座ロールバック
npm run deploy:rollback:production

# 状態確認
npm run check:production
npm run deploy:status:production
```

## 🎯 **環境別ガイド**

### 🖥️ **開発環境 (ローカル)**
```bash
# 環境起動
npm run docker:up              # Docker Supabase起動
npm run dev                    # Next.js開発サーバー

# 確認
npm run check:dev              # 自動確認
./scripts/quick-check.sh dev   # クイック確認
```

**重点確認項目:**
- ✅ Docker Supabase正常動作
- ✅ 新機能実装完了
- ✅ 全テスト成功
- ✅ 品質基準クリア

### 🧪 **ステージング環境**
```bash
# デプロイ・確認
npm run deploy:staging         # 自動デプロイ
npm run check:staging          # 包括確認
./scripts/quick-check.sh staging # クイック確認
```

**重点確認項目:**
- ✅ 本番同等環境での動作確認
- ✅ 統合テスト完了
- ✅ パフォーマンス確認
- ✅ E2Eテスト成功

### 🚀 **本番環境**
```bash
# デプロイ・確認
npm run deploy:production      # 本番デプロイ
npm run check:production       # 厳格確認
./scripts/quick-check.sh production # 継続監視
```

**重点確認項目:**
- ✅ サービス稼働率99.9%以上
- ✅ 応答時間1秒以内
- ✅ エラー率0.1%以下
- ✅ ユーザー影響ゼロ

## 📊 **監視・ログ管理**

### 📈 **リアルタイム監視**
```bash
# ログ確認
npm run deploy:logs:staging        # ステージングログ
npm run deploy:logs:production     # 本番ログ

# 状態確認
npm run deploy:status:staging      # ステージング状態
npm run deploy:status:production   # 本番状態
```

### 🔍 **パフォーマンス監視**
- **応答時間**: 平均1秒以内
- **エラー率**: 0.1%以下維持
- **稼働率**: 99.9%以上
- **メモリ使用量**: 正常範囲内

### 📊 **ビジネスメトリクス**
- ユーザー登録数
- アクティブユーザー数
- 教材作成・学習数
- システム利用満足度

## 🔄 **継続的改善**

### 📈 **デプロイ効率化**
- デプロイ時間の短縮
- 自動化率の向上
- 品質チェックの強化
- チーム作業効率改善

### 🎯 **運用品質向上**
- 監視精度の向上
- 問題検知時間の短縮
- 復旧時間の短縮
- 予防的メンテナンス

## 🚨 **問題発生時の対応**

### 🔍 **即座確認**
1. [環境別確認チェックリスト](./17_環境別確認チェックリスト.md)実行
2. エラーログ・メトリクス確認
3. 影響範囲の特定

### 🛠️ **対応手順**
1. **軽微**: 次回定期デプロイで修正
2. **中度**: 計画的ホットフィックス
3. **重大**: 即座ロールバック→緊急修正

### 📋 **トラブルシューティング**
詳細は以下を参照：
- [../05_トラブルシューティング/16_緊急時対応チェックリスト.md](../05_トラブルシューティング/16_緊急時対応チェックリスト.md)
- [../05_トラブルシューティング/12_本番環境トラブルシューティング.md](../05_トラブルシューティング/12_本番環境トラブルシューティング.md)

## 🎯 **次に読むべきドキュメント**

デプロイ・運用に習熟したら：
- [../02_テスト関連/08_MCP版リリース前テスト実行手順.md](../02_テスト関連/08_MCP版リリース前テスト実行手順.md) - 高度なテスト
- [../04_セキュリティ/05_セキュリティ設計.md](../04_セキュリティ/05_セキュリティ設計.md) - セキュリティ強化

**🚀 安全で効率的なデプロイで、継続的にユーザー価値を提供しましょう！**
