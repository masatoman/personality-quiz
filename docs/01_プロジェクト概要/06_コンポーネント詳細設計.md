# ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°è¨­è¨ˆ

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è©³ç´°è¨­è¨ˆ](./05_ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è©³ç´°è¨­è¨ˆ.md)
- [APIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä»•æ§˜æ›¸](../02_é–‹ç™ºã‚¬ã‚¤ãƒ‰/04_APIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä»•æ§˜æ›¸.md)
- [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ](../02_é–‹ç™ºã‚¬ã‚¤ãƒ‰/05_ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ.md)
- [ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ§‹æˆå›³](../02_é–‹ç™ºã‚¬ã‚¤ãƒ‰/06_ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæ§‹æˆå›³.md)
- [UI/UXãƒ‡ã‚¶ã‚¤ãƒ³ä»•æ§˜æ›¸](./07_UI_UXãƒ‡ã‚¶ã‚¤ãƒ³ä»•æ§˜æ›¸.md)

## æ¦‚è¦
æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ShiftWithã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ ã®è©³ç´°è¨­è¨ˆã‚’è¨˜è¿°ã—ã¾ã™ã€‚Next.jsã¨Tailwind CSSã‚’ä½¿ç”¨ã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆã€çŠ¶æ…‹ç®¡ç†ã€ãŠã‚ˆã³ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¦‚è¦

ShiftWithã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ä»¥ä¸‹ã®åŸå‰‡ã«åŸºã¥ã„ã¦ã„ã¾ã™ï¼š

1. **æ©Ÿèƒ½ã¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åˆ†é›¢**: å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨æ©Ÿèƒ½åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®æ˜ç¢ºãªåŒºåˆ†ã‘
2. **ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³**: é–¢é€£ã™ã‚‹ã‚³ãƒ¼ãƒ‰ï¼ˆãƒ†ã‚¹ãƒˆã€ã‚¹ã‚¿ã‚¤ãƒ«ã€ãƒ˜ãƒ«ãƒ‘ãƒ¼ï¼‰ã‚’åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®
3. **å‹å®‰å…¨**: TypeScriptã«ã‚ˆã‚‹å‹å®šç¾©ã®å¾¹åº•
4. **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: åŠ¹ç‡çš„ãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã¨ãƒ¡ãƒ¢åŒ–ã®æ´»ç”¨
5. **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WAI-ARIAã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã®éµå®ˆ

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆéšå±¤

```
src/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ api/               # APIãƒ«ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ auth/             # èªè¨¼é–¢é€£ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ materials/        # æ•™æé–¢é€£ãƒšãƒ¼ã‚¸
â”‚   â””â”€â”€ quiz/             # ã‚¯ã‚¤ã‚ºé–¢é€£ãƒšãƒ¼ã‚¸
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ common/           # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ atoms/       # åŸºæœ¬è¦ç´ ï¼ˆButton, Inputç­‰ï¼‰
â”‚   â”‚   â”œâ”€â”€ molecules/   # è¤‡åˆè¦ç´ ï¼ˆForm, Cardç­‰ï¼‰
â”‚   â”‚   â””â”€â”€ organisms/   # æ©Ÿèƒ½ãƒ–ãƒ­ãƒƒã‚¯ï¼ˆHeader, Footerç­‰ï¼‰
â”‚   â””â”€â”€ features/        # æ©Ÿèƒ½åˆ¥ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚       â”œâ”€â”€ giver-score/ # ã‚®ãƒãƒ¼ã‚¹ã‚³ã‚¢é–¢é€£
â”‚       â”œâ”€â”€ materials/   # æ•™æé–¢é€£
â”‚       â””â”€â”€ quiz/        # ã‚¯ã‚¤ã‚ºé–¢é€£
â”œâ”€â”€ hooks/                # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯
â”œâ”€â”€ utils/               # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°
â”œâ”€â”€ services/           # APIã‚µãƒ¼ãƒ“ã‚¹
â”œâ”€â”€ contexts/           # Reactã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
â”œâ”€â”€ styles/            # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â””â”€â”€ types/             # å‹å®šç¾©
```

## ãƒ†ã‚¹ãƒˆæ§‹é€ 

å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ä»¥ä¸‹ã®ãƒ†ã‚¹ãƒˆæ§‹é€ ãŒå«ã¾ã‚Œã¾ã™ï¼š

```
components/
â””â”€â”€ features/
    â””â”€â”€ materials/
        â”œâ”€â”€ index.tsx
        â””â”€â”€ test/
            â”œâ”€â”€ unit/           # å˜ä½“ãƒ†ã‚¹ãƒˆ
            â”‚   â””â”€â”€ *.unit.test.tsx
            â””â”€â”€ integration/    # æ©Ÿèƒ½å†…çµåˆãƒ†ã‚¹ãƒˆ
                â””â”€â”€ *.integration.test.tsx
```

## ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä»•æ§˜

### 1. ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼é–¢é€£

#### AuthForm ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
**ãƒ‘ã‚¹**: `src/components/organisms/AuthForm/index.tsx`

**ç›®çš„**: ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ãƒ•ã‚©ãƒ¼ãƒ ã®æä¾›

**props**:
```typescript
export type AuthFormProps = {
  type: 'login' | 'signup';
  onSuccess: (user: User) => void;
  onError?: (error: Error) => void;
};
```

**çŠ¶æ…‹**:
- email: string
- password: string
- username?: string (ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—æ™‚ã®ã¿)
- isLoading: boolean
- error: string | null

**æŒ¯ã‚‹èˆã„**:
- ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡æ™‚ã«Supabaseã®èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹ã‚’å‘¼ã³å‡ºã™
- å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ï¼‰
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- æˆåŠŸæ™‚ã«ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å‘¼ã³å‡ºã—

**UIæ§‹æˆ**:
- InputField (ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹)
- InputField (ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰)
- InputField (ãƒ¦ãƒ¼ã‚¶ãƒ¼å - ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—ã®ã¿)
- Button (é€ä¿¡)
- Alert (ã‚¨ãƒ©ãƒ¼è¡¨ç¤º)

**ãƒ†ã‚¹ãƒˆé …ç›®**:
- å…¥åŠ›ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- é€ä¿¡å‡¦ç†
- ã‚¨ãƒ©ãƒ¼è¡¨ç¤º
- æˆåŠŸæ™‚ã®å‡¦ç†

### 2. æ•™æä¸€è¦§è¡¨ç¤ºé–¢é€£

#### MaterialGrid ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
**ãƒ‘ã‚¹**: `src/components/organisms/MaterialGrid/index.tsx`

**ç›®çš„**: æ•™æã‚«ãƒ¼ãƒ‰ã®ã‚°ãƒªãƒƒãƒ‰è¡¨ç¤º

**props**:
```typescript
export type MaterialGridProps = {
  materials: Material[];
  isLoading?: boolean;
  onSelectMaterial?: (materialId: string) => void;
  emptyMessage?: string;
  layout?: 'grid' | 'list';
  limit?: number;
};
```

**çŠ¶æ…‹**:
- å†…éƒ¨çŠ¶æ…‹ãªã— (å˜ç´”ãªè¡¨ç¤ºã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)

**æŒ¯ã‚‹èˆã„**:
- æ•™æãƒ‡ãƒ¼ã‚¿ã®ãƒãƒƒãƒ”ãƒ³ã‚°ã¨è¡¨ç¤º
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®è¡¨ç¤º
- ç©ºãƒ‡ãƒ¼ã‚¿æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- æ•™æé¸æŠæ™‚ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‘¼ã³å‡ºã—

**UIæ§‹æˆ**:
- MaterialCard ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚°ãƒªãƒƒãƒ‰
- Skeleton (ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ™‚)
- EmptyState (ãƒ‡ãƒ¼ã‚¿ãªã—æ™‚)

**ãƒ†ã‚¹ãƒˆé …ç›®**:
- æ•™æãƒ‡ãƒ¼ã‚¿ã®æ­£ã—ã„è¡¨ç¤º
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®é©åˆ‡ãªè¡¨ç¤º
- ç©ºãƒ‡ãƒ¼ã‚¿æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
- é¸æŠæ™‚ã®ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯å‘¼ã³å‡ºã—ç¢ºèª

#### MaterialCard ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
**ãƒ‘ã‚¹**: `src/components/molecules/MaterialCard/index.tsx`

**ç›®çš„**: å€‹ã€…ã®æ•™æã‚«ãƒ¼ãƒ‰è¡¨ç¤º

**props**:
```typescript
export type MaterialCardProps = {
  material: Material;
  onClick?: () => void;
  isFavorited?: boolean;
  onFavoriteToggle?: (materialId: string, isFavorite: boolean) => void;
  variant?: 'default' | 'compact';
};
```

**çŠ¶æ…‹**:
- isHovered: boolean (ãƒ›ãƒãƒ¼çŠ¶æ…‹ç®¡ç†)

**æŒ¯ã‚‹èˆã„**:
- æ•™æãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¡¨ç¤º
- ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
- ãŠæ°—ã«å…¥ã‚Šåˆ‡ã‚Šæ›¿ãˆå‡¦ç†
- ãƒ›ãƒãƒ¼ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ

**UIæ§‹æˆ**:
- Image (ã‚µãƒ ãƒã‚¤ãƒ«)
- Text (ã‚¿ã‚¤ãƒˆãƒ«ã€èª¬æ˜)
- Badge (ã‚«ãƒ†ã‚´ãƒªã€é›£æ˜“åº¦)
- IconButton (ãŠæ°—ã«å…¥ã‚Šãƒœã‚¿ãƒ³)
- UserAvatar (ä½œè€…ã‚¢ãƒã‚¿ãƒ¼)

**ãƒ†ã‚¹ãƒˆé …ç›®**:
- æ•™æãƒ‡ãƒ¼ã‚¿ã®æ­£ã—ã„è¡¨ç¤º
- ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã®ç™ºç«
- ãŠæ°—ã«å…¥ã‚Šåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½
- è¡¨ç¤ºãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¢ºèª

### 3. æ•™æè©³ç´°è¡¨ç¤ºé–¢é€£

#### MaterialViewer ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
**ãƒ‘ã‚¹**: `src/components/organisms/MaterialViewer/index.tsx`

**ç›®çš„**: æ•™æã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¡¨ç¤º

**props**:
```typescript
export type MaterialViewerProps = {
  material: MaterialWithSections;
  onCommentSubmit?: (comment: CommentInput) => Promise<void>;
  onLikeToggle?: (isLiked: boolean) => Promise<void>;
  isOwner?: boolean;
  isLiked?: boolean;
  userProgress?: UserProgress;
};
```

**çŠ¶æ…‹**:
- activeSection: number (ç¾åœ¨è¡¨ç¤ºä¸­ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³)
- isCommenting: boolean (ã‚³ãƒ¡ãƒ³ãƒˆå…¥åŠ›ä¸­)
- comment: string (ã‚³ãƒ¡ãƒ³ãƒˆå†…å®¹)
- isSubmitting: boolean (é€ä¿¡ä¸­)

**æŒ¯ã‚‹èˆã„**:
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆå‡¦ç†
- ã‚³ãƒ¡ãƒ³ãƒˆé€ä¿¡å‡¦ç†
- ã„ã„ã­å‡¦ç†
- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤ºãƒ»ç®¡ç†

**UIæ§‹æˆ**:
- Tabs (ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆ)
- Markdown (ã‚³ãƒ³ãƒ†ãƒ³ãƒ„è¡¨ç¤º)
- CommentSection (ã‚³ãƒ¡ãƒ³ãƒˆä¸€è¦§ãƒ»å…¥åŠ›)
- LikeButton (ã„ã„ã­ãƒœã‚¿ãƒ³)
- ProgressIndicator (é€²æ—è¡¨ç¤º)

**ãƒ†ã‚¹ãƒˆé …ç›®**:
- ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½
- ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®æ­£ã—ã„è¡¨ç¤º
- ã‚³ãƒ¡ãƒ³ãƒˆæ©Ÿèƒ½
- ã„ã„ã­æ©Ÿèƒ½
- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤º

### 4. ã‚®ãƒãƒ¼ã‚¹ã‚³ã‚¢é–¢é€£

#### GiverScoreDisplay ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
**ãƒ‘ã‚¹**: `src/components/molecules/GiverScoreDisplay/index.tsx`

**ç›®çš„**: ã‚®ãƒãƒ¼ã‚¹ã‚³ã‚¢ã¨ãƒ¬ãƒ™ãƒ«ã®è¡¨ç¤º

**props**:
```typescript
export type GiverScoreDisplayProps = {
  score: number;
  level: number;
  nextLevelThreshold: number;
  variant?: 'default' | 'compact' | 'detailed';
  showAnimation?: boolean;
};
```

**çŠ¶æ…‹**:
- isAnimating: boolean (ã‚¹ã‚³ã‚¢å¤‰åŒ–æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹)

**æŒ¯ã‚‹èˆã„**:
- ã‚¹ã‚³ã‚¢ãƒ»ãƒ¬ãƒ™ãƒ«è¡¨ç¤º
- ãƒ¬ãƒ™ãƒ«ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼è¡¨ç¤º
- ã‚¹ã‚³ã‚¢å¤‰åŒ–æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³

**UIæ§‹æˆ**:
- Text (ã‚¹ã‚³ã‚¢ã€ãƒ¬ãƒ™ãƒ«è¡¨ç¤º)
- ProgressBar (ãƒ¬ãƒ™ãƒ«ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹)
- Icon (ãƒ¬ãƒ™ãƒ«ã‚¢ã‚¤ã‚³ãƒ³)
- ScoreAnimation (ã‚¹ã‚³ã‚¢ä¸Šæ˜‡æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³)

**ãƒ†ã‚¹ãƒˆé …ç›®**:
- ã‚¹ã‚³ã‚¢ãƒ»ãƒ¬ãƒ™ãƒ«ã®æ­£ã—ã„è¡¨ç¤º
- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã®è¨ˆç®—
- ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¡¨ç¤º
- ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¢ºèª

#### GiverActivityFeed ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
**ãƒ‘ã‚¹**: `src/components/organisms/GiverActivityFeed/index.tsx`

**ç›®çš„**: ã‚®ãƒãƒ¼æ´»å‹•å±¥æ­´ã®è¡¨ç¤º

**props**:
```typescript
export type GiverActivityFeedProps = {
  activities: GiverActivity[];
  isLoading?: boolean;
  onLoadMore?: () => void;
  hasMore?: boolean;
};
```

**çŠ¶æ…‹**:
- isLoadingMore: boolean (è¿½åŠ ãƒ­ãƒ¼ãƒ‰ä¸­)

**æŒ¯ã‚‹èˆã„**:
- æ´»å‹•å±¥æ­´ã®è¡¨ç¤º
- ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
- æ´»å‹•ã‚¿ã‚¤ãƒ—åˆ¥ã®è¡¨ç¤ºå¤‰æ›´

**UIæ§‹æˆ**:
- ActivityItem (å€‹åˆ¥æ´»å‹•é …ç›®)
- InfiniteScroll (ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«)
- Skeleton (ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º)
- Button (ã‚‚ã£ã¨è¦‹ã‚‹ãƒœã‚¿ãƒ³)

**ãƒ†ã‚¹ãƒˆé …ç›®**:
- æ´»å‹•ãƒ‡ãƒ¼ã‚¿ã®æ­£ã—ã„è¡¨ç¤º
- ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ©Ÿèƒ½
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹
- ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ç¨®åˆ¥ã”ã¨ã®è¡¨ç¤ºç¢ºèª

### 5. é€šçŸ¥é–¢é€£

#### NotificationCenter ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
**ãƒ‘ã‚¹**: `src/components/organisms/NotificationCenter/index.tsx`

**ç›®çš„**: é€šçŸ¥ä¸€è¦§è¡¨ç¤ºã¨ç®¡ç†

**props**:
```typescript
export type NotificationCenterProps = {
  onClose?: () => void;
  maxNotifications?: number;
};
```

**çŠ¶æ…‹**:
- notifications: Notification[] (é€šçŸ¥ä¸€è¦§)
- isLoading: boolean (ãƒ­ãƒ¼ãƒ‰ä¸­)
- hasUnread: boolean (æœªèª­é€šçŸ¥ã®æœ‰ç„¡)

**æŒ¯ã‚‹èˆã„**:
- é€šçŸ¥ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ãƒ»è¡¨ç¤º
- é€šçŸ¥ã®æ—¢èª­å‡¦ç†
- æœªèª­é€šçŸ¥ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ
- é€šçŸ¥ã‚¯ãƒªãƒƒã‚¯æ™‚ã®ç”»é¢é·ç§»

**UIæ§‹æˆ**:
- NotificationItem (å€‹åˆ¥é€šçŸ¥é …ç›®)
- Badge (æœªèª­æ•°è¡¨ç¤º)
- Popover (é€šçŸ¥ã‚»ãƒ³ã‚¿ãƒ¼è¡¨ç¤º)
- Button (ã™ã¹ã¦æ—¢èª­ãƒœã‚¿ãƒ³)

**ãƒ†ã‚¹ãƒˆé …ç›®**:
- é€šçŸ¥ãƒ‡ãƒ¼ã‚¿ã®æ­£ã—ã„è¡¨ç¤º
- æ—¢èª­å‡¦ç†ã®å‹•ä½œç¢ºèª
- æœªèª­ãƒã‚¤ãƒ©ã‚¤ãƒˆæ©Ÿèƒ½
- é€šçŸ¥ã‚¯ãƒªãƒƒã‚¯æ™‚ã®é·ç§»ç¢ºèª

## çŠ¶æ…‹ç®¡ç†è¨­è¨ˆ

### ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹
- å˜ä¸€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã®çŠ¶æ…‹ã¯ `useState` ã‚’ä½¿ç”¨
- è¤‡é›‘ãªãƒ•ã‚©ãƒ¼ãƒ çŠ¶æ…‹ã¯ `useReducer` ã¾ãŸã¯ `React Hook Form` ã‚’ä½¿ç”¨

### ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼çŠ¶æ…‹: `AuthContext`
- é€šçŸ¥çŠ¶æ…‹: `NotificationContext`
- ãƒ†ãƒ¼ãƒè¨­å®š: `ThemeContext`
- ã‚®ãƒãƒ¼ã‚¹ã‚³ã‚¢: `GiverScoreContext`

#### ä¾‹: AuthContext
```typescript
// src/contexts/AuthContext.tsx
import { createContext, useContext, useState, useEffect } from 'react';
import { User, Session } from '@supabase/supabase-js';
import { supabase } from '../lib/supabase';

type AuthContextType = {
  user: User | null;
  session: Session | null;
  isLoading: boolean;
  signIn: (email: string, password: string) => Promise<void>;
  signUp: (email: string, password: string, username: string) => Promise<void>;
  signOut: () => Promise<void>;
};

const AuthContext = createContext<AuthContextType | undefined>(undefined);

export const AuthProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [user, setUser] = useState<User | null>(null);
  const [session, setSession] = useState<Session | null>(null);
  const [isLoading, setIsLoading] = useState<boolean>(true);

  useEffect(() => {
    // ã‚»ãƒƒã‚·ãƒ§ãƒ³å–å¾—å‡¦ç†
    const { data: { subscription } } = supabase.auth.onAuthStateChange(
      (event, session) => {
        setSession(session);
        setUser(session?.user ?? null);
        setIsLoading(false);
      }
    );

    return () => {
      subscription.unsubscribe();
    };
  }, []);

  // ã‚µã‚¤ãƒ³ã‚¤ãƒ³å‡¦ç†
  const signIn = async (email: string, password: string) => {
    // å®Ÿè£…çœç•¥
  };

  // ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—å‡¦ç†
  const signUp = async (email: string, password: string, username: string) => {
    // å®Ÿè£…çœç•¥
  };

  // ã‚µã‚¤ãƒ³ã‚¢ã‚¦ãƒˆå‡¦ç†
  const signOut = async () => {
    // å®Ÿè£…çœç•¥
  };

  return (
    <AuthContext.Provider value={{ user, session, isLoading, signIn, signUp, signOut }}>
      {children}
    </AuthContext.Provider>
  );
};

export const useAuth = () => {
  const context = useContext(AuthContext);
  if (context === undefined) {
    throw new Error('useAuth must be used within an AuthProvider');
  }
  return context;
};
```

## ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ

### åŸºæœ¬ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

1. **APIãƒªã‚¯ã‚¨ã‚¹ãƒˆ**: `services` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®ã‚µãƒ¼ãƒ“ã‚¹é–¢æ•°ã§Supabase APIã«ã‚¢ã‚¯ã‚»ã‚¹
2. **çŠ¶æ…‹æ›´æ–°**: ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã¾ãŸã¯ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´
3. **UIæ›´æ–°**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒæœ€æ–°ã®çŠ¶æ…‹ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
4. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãŒå‡¦ç†
5. **ãƒ‡ãƒ¼ã‚¿æ›´æ–°**: çŠ¶æ…‹æ›´æ–°ã¨APIã‚³ãƒ¼ãƒ«

### ä¾‹: æ•™æè©³ç´°ãƒšãƒ¼ã‚¸ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
1. ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰ -> `useEffect` ãŒç™ºç«
2. materials.getById(materialId) APIã‚³ãƒ¼ãƒ«
3. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚’è¡¨ç¤º
4. ãƒ‡ãƒ¼ã‚¿å–å¾—å®Œäº† -> çŠ¶æ…‹æ›´æ–°
5. MaterialViewer ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™
6. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã„ã„ã­ã‚’ã‚¯ãƒªãƒƒã‚¯
7. materials.like(materialId) APIã‚³ãƒ¼ãƒ«
8. çŠ¶æ…‹æ›´æ–°ï¼ˆoptimistic UIæ›´æ–°ï¼‰
9. UIå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
```

## å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### Button ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
**ãƒ‘ã‚¹**: `src/components/atoms/Button/index.tsx`

```typescript
export type ButtonProps = {
  children: React.ReactNode;
  variant?: 'primary' | 'secondary' | 'tertiary' | 'danger' | 'ghost';
  size?: 'sm' | 'md' | 'lg';
  isLoading?: boolean;
  isDisabled?: boolean;
  leftIcon?: React.ReactNode;
  rightIcon?: React.ReactNode;
  onClick?: () => void;
  type?: 'button' | 'submit' | 'reset';
  fullWidth?: boolean;
  className?: string;
};
```

### Input ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
**ãƒ‘ã‚¹**: `src/components/atoms/Input/index.tsx`

```typescript
export type InputProps = {
  id: string;
  name: string;
  type?: 'text' | 'email' | 'password' | 'number' | 'date';
  value: string;
  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;
  label?: string;
  placeholder?: string;
  error?: string;
  helperText?: string;
  isDisabled?: boolean;
  isRequired?: boolean;
  autoFocus?: boolean;
  className?: string;
};
```

### Card ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
**ãƒ‘ã‚¹**: `src/components/atoms/Card/index.tsx`

```typescript
export type CardProps = {
  children: React.ReactNode;
  variant?: 'default' | 'elevated' | 'outlined';
  padding?: 'none' | 'sm' | 'md' | 'lg';
  onClick?: () => void;
  isHoverable?: boolean;
  className?: string;
};
```

## ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³

Tailwind CSSã®ãƒ–ãƒ¬ãƒ¼ã‚¯ãƒã‚¤ãƒ³ãƒˆã‚’ä½¿ç”¨:

- `sm`: 640px
- `md`: 768px
- `lg`: 1024px
- `xl`: 1280px
- `2xl`: 1536px

### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œæ–¹é‡

1. ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆè¨­è¨ˆ
2. Flexboxã¨ã‚°ãƒªãƒƒãƒ‰ã®é©åˆ‡ãªæ´»ç”¨
3. ã‚³ãƒ³ãƒ†ãƒŠãƒ¼è¦ç´ ã®æœ€å¤§å¹…ã®è¨­å®š
4. ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¯ã‚¨ãƒªã«ã‚ˆã‚‹è¦ç´ ã‚µã‚¤ã‚ºã®å¤‰æ›´
5. ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆå¯¾å¿œã®æ–‡å­—ã‚µã‚¤ã‚º

ä¾‹ï¼š
```jsx
<div className="grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
  {items.map(item => (
    <ItemCard key={item.id} item={item} />
  ))}
</div>
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ãƒ¡ãƒ¢åŒ–æˆ¦ç•¥

1. é«˜ã‚³ã‚¹ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® `React.memo` ã«ã‚ˆã‚‹æœ€é©åŒ–
2. ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã¯ `useCallback` ã§ãƒ¡ãƒ¢åŒ–
3. è¨ˆç®—å€¤ã¯ `useMemo` ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥

### é…å»¶ãƒ­ãƒ¼ãƒ‰

1. Next.jsã® `dynamic import` ã‚’ä½¿ç”¨
2. ç”»åƒã¯ Next.jsã® `Image` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ´»ç”¨
3. ãƒªã‚¹ãƒˆè¡¨ç¤ºã¯ä»®æƒ³åŒ–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª (`react-window` ãªã©) ã‚’æ¤œè¨

### ã‚³ãƒ¼ãƒ‰ä¾‹:

```typescript
// å¤§ããªãƒªã‚¹ãƒˆã®ä»®æƒ³åŒ–
import { FixedSizeList as List } from 'react-window';

const MaterialList = ({ items }) => {
  const renderRow = ({ index, style }) => (
    <div style={style}>
      <MaterialCard material={items[index]} />
    </div>
  );

  return (
    <List
      height={500}
      width="100%"
      itemCount={items.length}
      itemSize={120}
    >
      {renderRow}
    </List>
  );
};
```

## ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è¨­è¨ˆ

1. ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯HTMLã®ä½¿ç”¨
2. é©åˆ‡ãªã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
3. WAI-ARIAãƒ­ãƒ¼ãƒ«ã¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®æ´»ç”¨
4. ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ã¨ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã®è€ƒæ…®
5. ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ

ä¾‹:
```jsx
<button
  aria-label="é–‰ã˜ã‚‹"
  aria-expanded={isOpen}
  onClick={onClose}
  className="focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
>
  <XIcon className="h-5 w-5" />
</button>
```

## ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

1. å˜ä½“ãƒ†ã‚¹ãƒˆ: Jest + React Testing Library
2. ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒ†ã‚¹ãƒˆ: é‡è¦ãªUIè¦ç´ 
3. ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼å…¨ä½“
4. E2Eãƒ†ã‚¹ãƒˆ: é‡è¦ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼

### ãƒ†ã‚¹ãƒˆä¾‹:

```typescript
// src/components/atoms/Button/index.test.tsx
import { render, screen, fireEvent } from '@testing-library/react';
import { Button } from './index';

describe('Button', () => {
  it('renders correctly', () => {
    render(<Button>Click me</Button>);
    expect(screen.getByText('Click me')).toBeInTheDocument();
  });

  it('calls onClick when clicked', () => {
    const handleClick = jest.fn();
    render(<Button onClick={handleClick}>Click me</Button>);
    fireEvent.click(screen.getByText('Click me'));
    expect(handleClick).toHaveBeenCalledTimes(1);
  });

  it('shows loading state', () => {
    render(<Button isLoading>Click me</Button>);
    expect(screen.getByRole('status')).toBeInTheDocument();
    expect(screen.getByText('Click me')).toBeInTheDocument();
  });

  it('is disabled when isDisabled is true', () => {
    render(<Button isDisabled>Click me</Button>);
    expect(screen.getByText('Click me').closest('button')).toBeDisabled();
  });
});
```

## ãã®ä»–ã®è€ƒæ…®äº‹é …

### ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ

Tailwind CSSã® `dark:` ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‚’æ´»ç”¨ã—ã€ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã¾ãŸã¯æ˜ç¤ºçš„ãªåˆ‡ã‚Šæ›¿ãˆã«å¯¾å¿œ:

```tsx
<div className="bg-white text-gray-900 dark:bg-gray-900 dark:text-white">
  ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
</div>
```

### å›½éš›åŒ–å¯¾å¿œ

`next-intl` ãªã©ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã€å°†æ¥ã®å¤šè¨€èªå¯¾å¿œã«å‚™ãˆãŸè¨­è¨ˆ:

```tsx
// src/components/SomeComponent.tsx
import { useTranslations } from 'next-intl';

const SomeComponent = () => {
  const t = useTranslations('SomeComponent');
  
  return (
    <div>
      <h1>{t('title')}</h1>
      <p>{t('description')}</p>
    </div>
  );
};
```

### ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒª

äºˆæœŸã›ã¬ã‚¨ãƒ©ãƒ¼ã«å¯¾å‡¦ã™ã‚‹ãŸã‚ã®ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒªå®Ÿè£…:

```tsx
// src/components/ErrorBoundary.tsx
import React from 'react';

class ErrorBoundary extends React.Component {
  state = { hasError: false, error: null };
  
  static getDerivedStateFromError(error) {
    return { hasError: true, error };
  }
  
  componentDidCatch(error, errorInfo) {
    // ã‚¨ãƒ©ãƒ¼ãƒ­ã‚®ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã«é€ä¿¡
    console.error('Error caught by boundary:', error, errorInfo);
  }
  
  render() {
    if (this.state.hasError) {
      return <ErrorPage error={this.state.error} />;
    }
    
    return this.props.children;
  }
} 
```

## ğŸ†• ãƒˆãƒ¼ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ  (2025/01/02 è¿½åŠ )

### æ¦‚è¦

ãƒ–ãƒ©ã‚¦ã‚¶ã®alert()ã‚’ç½®ãæ›ãˆã‚‹ã€ãƒ¢ãƒ€ãƒ³ãªãƒˆãƒ¼ã‚¹ãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚·ã‚¹ãƒ†ãƒ ã€‚éä¾µå…¥çš„ã§ã‚¢ã‚¯ã‚»ã‚·ãƒ–ãƒ«ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ©Ÿèƒ½ã‚’æä¾›ã€‚

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

#### 1. Toast Component

**ãƒ‘ã‚¹**: `src/components/ui/Toast.tsx`

```typescript
export interface ToastProps {
  id: string;
  message: string;
  type: 'success' | 'error' | 'warning' | 'info';
  duration?: number;
  onClose: (id: string) => void;
}

const Toast: React.FC<ToastProps> = ({
  id,
  message,
  type = 'info',
  duration = 5000,
  onClose
}) => {
  // è‡ªå‹•æ¶ˆå¤±ã‚¿ã‚¤ãƒãƒ¼
  // ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¤ãƒ³ãƒ»ã‚¢ã‚¦ãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
  // ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œï¼ˆrole="alert"ï¼‰
}
```

**ç‰¹å¾´**:
- 4ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—ï¼ˆæˆåŠŸãƒ»ã‚¨ãƒ©ãƒ¼ãƒ»è­¦å‘Šãƒ»æƒ…å ±ï¼‰
- è‡ªå‹•æ¶ˆå¤±æ©Ÿèƒ½ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ5ç§’ï¼‰
- æ‰‹å‹•ã‚¯ãƒ­ãƒ¼ã‚ºãƒœã‚¿ãƒ³
- ã‚¹ãƒ©ã‚¤ãƒ‰ã‚¤ãƒ³ãƒ»ã‚¢ã‚¦ãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ

#### 2. ToastContainer Component  

**ãƒ‘ã‚¹**: `src/components/ui/ToastContainer.tsx`

```typescript
export interface Toast {
  id: string;
  message: string;
  type: 'success' | 'error' | 'warning' | 'info';
  duration?: number;
}

const ToastContainer: React.FC = () => {
  const { toasts, removeToast } = useToast();
  
  return (
    <div className="fixed top-4 right-4 z-50 space-y-2">
      {toasts.map((toast) => (
        <Toast
          key={toast.id}
          {...toast}
          onClose={removeToast}
        />
      ))}
    </div>
  );
};
```

**ç‰¹å¾´**:
- å›ºå®šä½ç½®é…ç½®ï¼ˆå³ä¸Šï¼‰
- è¤‡æ•°ãƒˆãƒ¼ã‚¹ãƒˆã®ã‚¹ã‚¿ãƒƒã‚¯è¡¨ç¤º
- z-indexç®¡ç†ã§ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚ˆã‚Šå‰é¢è¡¨ç¤º

#### 3. useToast Hook

**ãƒ‘ã‚¹**: `src/hooks/useToast.ts`

```typescript
export interface ToastContextType {
  toasts: Toast[];
  showToast: (message: string, type?: ToastType, duration?: number) => void;
  removeToast: (id: string) => void;
}

export const useToast = () => {
  const context = useContext(ToastContext);
  if (!context) {
    throw new Error('useToast must be used within ToastProvider');
  }
  return context;
};
```

**API**:
- `showToast(message, type, duration?)`: æ–°ã—ã„ãƒˆãƒ¼ã‚¹ãƒˆè¡¨ç¤º
- `removeToast(id)`: ç‰¹å®šã®ãƒˆãƒ¼ã‚¹ãƒˆå‰Šé™¤
- `toasts`: ç¾åœ¨è¡¨ç¤ºä¸­ã®ãƒˆãƒ¼ã‚¹ãƒˆä¸€è¦§

### ãƒ‡ã‚¶ã‚¤ãƒ³ä»•æ§˜

#### ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ
```css
/* æˆåŠŸ */
bg-green-500, text-white
/* ã‚¨ãƒ©ãƒ¼ */  
bg-red-500, text-white
/* è­¦å‘Š */
bg-yellow-500, text-white  
/* æƒ…å ± */
bg-blue-500, text-white
```

#### ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
```css
/* ç™»å ´ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
transform: translateX(100%) â†’ translateX(0)
transition: transform 300ms ease-out

/* é€€å ´ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */  
opacity: 1 â†’ 0
transition: opacity 300ms ease-in
```

#### ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
```css
/* ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ— */
.toast { width: 400px; }

/* ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ */
@media (max-width: 768px) {
  .toast { width: 320px; }
}

/* ãƒ¢ãƒã‚¤ãƒ« */
@media (max-width: 480px) {
  .toast { 
    width: calc(100vw - 32px);
    margin: 0 16px;
  }
}
```

### ä½¿ç”¨æ–¹æ³•

#### åŸºæœ¬çš„ãªä½¿ç”¨
```typescript
import { useToast } from '@/hooks/useToast';

const SomeComponent = () => {
  const { showToast } = useToast();
  
  const handleSuccess = () => {
    showToast('æ•™æãŒæ­£å¸¸ã«å…¬é–‹ã•ã‚Œã¾ã—ãŸï¼', 'success');
  };
  
  const handleError = () => {
    showToast('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', 'error');
  };
};
```

#### ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®è¨­å®š
```typescript
// app/layout.tsx
import { ToastProvider } from '@/contexts/ToastContext';
import { ToastContainer } from '@/components/ui/ToastContainer';

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        <ToastProvider>
          {children}
          <ToastContainer />
        </ToastProvider>
      </body>
    </html>
  );
}
```

### ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£

#### WAI-ARIAå±æ€§
```typescript
<div
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  className="toast"
>
  {message}
</div>
```

#### ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ
- `Escape`: è¡¨ç¤ºä¸­ã®ãƒˆãƒ¼ã‚¹ãƒˆã‚’é–‰ã˜ã‚‹
- `Tab`: ã‚¯ãƒ­ãƒ¼ã‚ºãƒœã‚¿ãƒ³ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¯èƒ½

#### ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼å¯¾å¿œ
- `role="alert"`ã§å³åº§ã«èª­ã¿ä¸Šã’
- `aria-live="assertive"`ã§å‰²ã‚Šè¾¼ã¿èª­ã¿ä¸Šã’
- `aria-label`ã§ã‚¯ãƒ­ãƒ¼ã‚ºãƒœã‚¿ãƒ³ã®èª¬æ˜

### ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

#### å˜ä½“ãƒ†ã‚¹ãƒˆ
```typescript
// Toast.test.tsx
describe('Toast Component', () => {
  it('displays message correctly', () => {
    render(<Toast message="Test message" type="info" onClose={jest.fn()} />);
    expect(screen.getByText('Test message')).toBeInTheDocument();
  });
  
  it('calls onClose when close button clicked', () => {
    const onClose = jest.fn();
    render(<Toast message="Test" type="info" onClose={onClose} />);
    fireEvent.click(screen.getByLabelText('é–‰ã˜ã‚‹'));
    expect(onClose).toHaveBeenCalled();
  });
  
  it('auto-closes after duration', async () => {
    const onClose = jest.fn();
    render(<Toast message="Test" type="info" duration={1000} onClose={onClose} />);
    await waitFor(() => expect(onClose).toHaveBeenCalled(), { timeout: 1500 });
  });
});
```

#### E2Eãƒ†ã‚¹ãƒˆ
```typescript
// toast.e2e.ts
test('toast appears and disappears correctly', async () => {
  await page.click('[data-testid="trigger-success-toast"]');
  await expect(page.locator('.toast')).toBeVisible();
  await expect(page.locator('.toast')).toHaveText('æ•™æãŒæ­£å¸¸ã«å…¬é–‹ã•ã‚Œã¾ã—ãŸï¼');
  await expect(page.locator('.toast')).not.toBeVisible({ timeout: 6000 });
});
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è€ƒæ…®

#### ãƒ¡ãƒ¢åŒ–
```typescript
const Toast = React.memo<ToastProps>(({ id, message, type, onClose }) => {
  const handleClose = useCallback(() => onClose(id), [id, onClose]);
  // ...
});
```

#### ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³æœ€é©åŒ–
```css
.toast {
  transform: translateX(var(--translate-x));
  transition: transform 300ms ease-out;
  will-change: transform, opacity;
}
```

### ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

1. **ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä»˜ããƒˆãƒ¼ã‚¹ãƒˆ**: ãƒœã‚¿ãƒ³è¦ç´ ã®è¿½åŠ 
2. **ã‚«ã‚¹ã‚¿ãƒ ã‚¢ã‚¤ã‚³ãƒ³**: ã‚¢ã‚¤ã‚³ãƒ³ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½
3. **ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼**: æ®‹ã‚Šæ™‚é–“ã®è¦–è¦šåŒ–
4. **éŸ³éŸ¿ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: é‡è¦ãªé€šçŸ¥ã®éŸ³å£°å¯¾å¿œ
5. **æ°¸ç¶šåŒ–**: é‡è¦ãªé€šçŸ¥ã®å±¥æ­´ä¿å­˜