# タスク状態管理・報告フロー

## 1. タスク状態定義

### タスク状態
1. `未着手`: 作業開始前の状態
2. `準備中`: 作業環境の準備や依存タスクの確認中
3. `実装中`: 実際の開発作業を実施中
4. `テスト中`: 実装完了後のテストを実施中
5. `レビュー待ち`: レビュー依頼を送信済み
6. `修正中`: レビューコメントに基づく修正を実施中
7. `完了`: すべての作業とレビューが完了
8. `ブロック`: 他の要因により作業が停止
9. `待機`: 他エージェントの作業完了待ち

### ブロック理由
1. `依存タスク未完了`: 他のタスクの完了待ち
2. `リソース不足`: 必要なリソースが利用できない
3. `技術的課題`: 解決が必要な技術的問題が存在
4. `仕様確認待ち`: 仕様の詳細確認が必要
5. `外部サービス障害`: 外部サービスの問題

## 2. 進捗報告フロー

### 日次報告
```
【日次進捗報告】
エージェント: [Design/Frontend/Backend]
報告日: YYYY-MM-DD

1. 作業中タスク
   - タスクID: 
   - 現在の状態:
   - 進捗率:
   - 本日の実施内容:
   - 明日の予定:

2. ブロッカー
   - 有無: [あり/なし]
   - 内容:
   - 対応状況:

3. 待機中タスク
   - 実施した待機時作業:
   - 次の待機時作業予定:

4. 品質メトリクス
   - テストカバレッジ:
   - リントエラー数:
   - パフォーマンス指標:
```

### タスク状態変更報告
```
【状態変更通知】
エージェント: [Design/Frontend/Backend]
タスクID:
変更前状態:
変更後状態:
変更理由:
関連エージェント:
必要なアクション:
```

### ブロッカー報告
```
【ブロッカー報告】
エージェント: [Design/Frontend/Backend]
タスクID:
発生時刻:
ブロック理由:
影響範囲:
暫定対応:
解決に必要なもの:
```

## 3. 状態遷移ルール

### 状態遷移の基本フロー
```
未着手 → 準備中 → 実装中 → テスト中 → レビュー待ち → [修正中] → 完了
```

### 状態変更の条件
1. `未着手 → 準備中`
   - 依存タスクの完了確認
   - 必要なリソースの確保

2. `準備中 → 実装中`
   - 開発環境の準備完了
   - 仕様の確認完了

3. `実装中 → テスト中`
   - 実装完了
   - 単体テストの作成完了

4. `テスト中 → レビュー待ち`
   - テストの実行完了
   - ドキュメントの更新完了

5. `レビュー待ち → 修正中`
   - レビューコメントの受領

6. `修正中 → 完了`
   - 修正の完了
   - レビュアーの承認

### ブロック状態への遷移
- どの状態からでもブロック状態に遷移可能
- ブロック状態からの復帰は元の状態に戻る
- ブロック期間中は待機時作業を実施

## 4. 進捗管理方法

### 進捗率の計算
1. 準備中: 10%
2. 実装中: 10-50%
3. テスト中: 50-70%
4. レビュー待ち: 70-90%
5. 修正中: 90-95%
6. 完了: 100%

### 進捗の可視化
1. 日次進捗レポート
2. タスクボードの更新
3. バーンダウンチャートの更新
4. ブロッカーログの更新

### メトリクスの収集
1. 状態別の作業時間
2. ブロッカーの発生頻度と解決時間
3. レビュー指摘事項の傾向
4. 待機時作業の効率

## 5. 報告ルール

### 報告タイミング
1. 日次報告: 毎日17時まで
2. 状態変更: 変更時即時
3. ブロッカー報告: 発生時即時
4. 週次サマリー: 毎週金曜日

### 報告先
1. 日次報告: タスク管理システム
2. 状態変更: 関連エージェント
3. ブロッカー報告: 全エージェント
4. 重要事項: 即時エスカレーション

### エスカレーション基準
1. 24時間以上のブロック状態
2. 重大なバグの発見
3. 仕様との重大な不一致
4. パフォーマンス重大劣化

## 6. 振り返りと改善

### 週次振り返り
1. 進捗状況の確認
2. ブロッカーの分析
3. 待機時作業の効果確認
4. プロセス改善点の特定

### 月次振り返り
1. 進捗トレンドの分析
2. ブロッカーパターンの分析
3. プロセス改善の実施
4. メトリクスの見直し 