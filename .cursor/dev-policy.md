---
title: 開発方針ドキュメント (dev-policy.md)
description: ShiftWith プロジェクトにおける開発の基本思想、優先順位、例外判断などを明文化
---

# 開発方針

## 1. 基本方針

### プロジェクトの優先順位
1. ユーザー価値の最大化
2. 品質の確保
3. 開発速度の最適化
4. 保守性の向上

### 開発フェーズの定義
1. MVP開発フェーズ
   - 最小限の機能で価値を提供
   - スピード重視の判断を許容
   - 技術負債の許容範囲を明確化

2. 改善フェーズ
   - 品質向上を重視
   - 技術負債の返却
   - スケーラビリティの向上

## 2. 技術スタック

### フロントエンド
- 言語: TypeScript
- フレームワーク: React
- スタイリング: Tailwind CSS
- 状態管理: Redux Toolkit

### バックエンド
- 言語: Node.js
- フレームワーク: Express
- データベース: PostgreSQL
- ORM: Prisma

### テスト
- ユニットテスト: Jest
- E2Eテスト: Cypress
- APIテスト: Supertest

## 3. 品質基準

### コード品質
- カバレッジ: 80%以上
- 循環的複雑度: 10未満
- 重複コード: 5%未満
- リントエラー: 0件

### パフォーマンス
- ページロード: 3秒以内
- APIレスポンス: 500ms以内
- メモリ使用: 設定値以内

### セキュリティ
- OWASP Top 10対応
- 脆弱性スキャン: 週次実行
- 依存パッケージ監査: 毎日実行

## 4. 開発プロセス

### バージョン管理
- ブランチ戦略: GitHub Flow
- コミット粒度: 機能単位
- PRサイズ: 200行以内推奨

### レビュー
- 自動レビュー: 必須
- 手動レビュー: 重要度に応じて
- セキュリティレビュー: 必要に応じて

### デプロイ
- CI/CD: 自動化必須
- ステージング確認: 必須
- ロールバック手順: 明確化

## 5. ドキュメント

### 必須ドキュメント
- README.md
- API仕様書
- 環境構築手順
- トラブルシューティングガイド

### 推奨ドキュメント
- アーキテクチャ概要
- データモデル図
- 運用手順書
- 障害対応手順書

## 6. 保守運用

### モニタリング
- エラー監視
- パフォーマンス監視
- リソース使用状況
- ユーザー行動分析

### バックアップ
- データベース: 日次
- 設定ファイル: 変更時
- ログ: リアルタイム

### インシデント対応
- 報告基準の明確化
- エスカレーションフロー
- 事後分析と改善

## 7. コミュニケーション

### 報告基準
- 日次報告: 進捗状況
- 週次報告: 課題と解決策
- 月次報告: 成果と計画

### 情報共有
- 技術的決定の文書化
- 知見の共有促進
- ナレッジベースの整備

---

## 🎯 プロジェクトの目的（再確認）
- **行動変容による英語学習支援**：心理分類と行動経済学を活用し、学習継続と自己効力感を高める。
- **ギバー行動の促進**：ユーザーがコンテンツを「与える側」になることで学びが深まる。
- **コミュニティ型UGC循環**：教材作成→共有→評価→インセンティブというサイクルの確立。

---

## 🚧 優先順位ポリシー
1. **学習体験の自然さ・継続性の高さ**
2. **機能単位で完結する設計（マイクロモジュール）**
3. **デザインよりスピード優先（MVPフェーズ）**
4. **コスト効率重視：AI自動化・OSS活用・開発量最小化**
5. **将来の拡張性（AI品質管理・推薦エンジンの導入）**

---

## ⚖️ 判断が分かれるケースへの指針
- **UIに違和感があるが要望仕様通りなとき**：まず実装→ABテストやフィードバック待ち
- **仕様が曖昧なとき**：
  - `/docs/01_プロジェクト概要/02_機能仕様書.md` に準拠
  - なければ `/docs/基本設計.md` を優先
- **速度 vs 品質**：MVPでは速度を優先。ただしリファクタリングを必ずTODOに登録すること
- **未定義な操作のUI挙動**：保守的な実装（「何も起こらない」）を原則

---

## 🤖 AIエージェント運用ガイド（補足）
- `.cursor/rules/` のルールが**明示命令**、`dev-policy.md` は**判断基準**。
- ルールを実行する際、以下の判断に使ってよい：
  - 優先順位の衝突（例：スピードとUX）
  - 「曖昧な要件」の解釈
  - 複数ルートの選択肢がある場合の決定基準

---

## ✅ 守るべき前提
- **すべての実装は `/docs/03_進捗管理/01_TODO.md` に記録されていること**
- **エージェントの作業は「ルール・仕様・目的」に常に準拠すること**
- **問題や違和感があった場合、すぐ `/docs/03_進捗管理/01_TODO.md` に記載し報告すること**

---


