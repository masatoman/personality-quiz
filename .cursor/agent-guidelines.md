# エージェント実行ガイドライン

## 1. 作業開始時の確認事項

### 全エージェント共通
1. 現在のフェーズを確認（基盤構築/機能実装/最適化）
2. 自身の優先順位を確認
3. 他エージェントの依存タスクの完了状態を確認
4. `.cursor/automations/`内の該当する設定ファイルを確認

### デザイン/テストエージェント
1. 参照すべきドキュメント
   - UI/UXデザイン仕様書
   - 情報設計書のレスポンシブ対応方針
   - アクセシビリティ要件
   - テスト標準ドキュメント

2. 作業開始条件チェック
   - [ ] プロジェクトの基本設計を理解
   - [ ] デザインシステムの方針を確認
   - [ ] テスト環境が整備されている
   - [ ] 必要なツールがインストールされている

3. 待機時の作業リスト
   - ドキュメントの更新
   - テスト自動化の改善
   - パフォーマンス分析
   - アクセシビリティ監査

### フロントエンドエージェント
1. 参照すべきドキュメント
   - デザインシステム仕様
   - API仕様書
   - 情報設計書の画面遷移図
   - コンポーネント設計書

2. 作業開始条件チェック
   - [ ] デザインシステムが利用可能
   - [ ] API仕様が確定している
   - [ ] 必要なライブラリがインストールされている
   - [ ] 開発環境が整備されている

3. 待機時の作業リスト
   - コードリファクタリング
   - パフォーマンス最適化
   - 型定義の改善
   - 開発環境の整備

### バックエンドエージェント
1. 参照すべきドキュメント
   - データベース設計書
   - API仕様書
   - セキュリティ要件書
   - インフラ構成図

2. 作業開始条件チェック
   - [ ] データベーススキーマが確定
   - [ ] 認証システムの要件を理解
   - [ ] 開発環境が整備されている
   - [ ] セキュリティ要件を確認

3. 待機時の作業リスト
   - インフラ整備
   - セキュリティ強化
   - パフォーマンス最適化
   - モニタリング改善

## 2. 作業実行フロー

### 作業開始時
1. 現在のタスクステータスを確認
2. 依存関係のあるエージェントに作業開始を通知
3. 必要なブランチを作成
4. 作業環境の準備

### 作業中
1. 30分ごとに進捗をコミット
2. 重要な変更点は即時コミット
3. リントエラーは自動修正を適用
4. 他エージェントの作業に影響する変更は事前通知

### 作業完了時
1. 完了基準をチェック
2. テストを実行
3. ドキュメントを更新
4. レビュー依頼を送信
5. 依存するエージェントに完了を通知

## 3. 問題発生時の対応

### エラー発生時
1. エラーの種類を特定
2. 自動修正可能か確認
3. 他エージェントの作業への影響を確認
4. 必要に応じてエスカレーション

### ブロッカー発生時
1. ブロッカーの内容を文書化
2. 関係するエージェントに通知
3. 待機時作業リストから代替タスクを選択
4. 定期的にブロッカーの状態を確認

### パフォーマンス問題
1. 問題の切り分け
2. 測定データの収集
3. 他エージェントと協力して改善策を検討
4. 改善の実施と効果測定

## 4. コミュニケーションプロトコル

### 通知すべき事項
1. 作業開始・完了
2. 重要な変更の実施
3. ブロッカーの発生
4. レビュー依頼
5. パフォーマンス問題の検出

### 通知方法
1. 定期進捗報告: 日次
2. 重要な変更: 即時
3. ブロッカー: 即時
4. レビュー依頼: 完了時

### 通知テンプレート
```
【通知種別】: [進捗報告/変更通知/ブロッカー/レビュー依頼]
【エージェント】: [Design/Frontend/Backend]
【タイトル】: 
【内容】:
【影響範囲】:
【必要なアクション】:
【期限】:
```

## 5. 品質管理

### コード品質
1. リントルールの遵守
2. 型定義の徹底
3. テストカバレッジの維持
4. パフォーマンス基準の達成

### ドキュメント品質
1. API仕様の更新
2. コンポーネントドキュメントの更新
3. テスト仕様の更新
4. 設計ドキュメントの更新

### レビュー基準
1. 機能要件の充足
2. 非機能要件の充足
3. コーディング規約の遵守
4. テストの充実度
5. ドキュメントの更新

## 6. 定期タスク

### 日次タスク
1. 進捗報告の提出
2. コミットログの確認
3. エラーログの確認
4. 翌日の作業計画の作成

### 週次タスク
1. パフォーマンス計測
2. テストカバレッジの確認
3. ドキュメントの更新
4. 技術的負債の確認

### 月次タスク
1. 大規模な最適化の検討
2. アーキテクチャの見直し
3. 依存パッケージの更新
4. セキュリティ監査 