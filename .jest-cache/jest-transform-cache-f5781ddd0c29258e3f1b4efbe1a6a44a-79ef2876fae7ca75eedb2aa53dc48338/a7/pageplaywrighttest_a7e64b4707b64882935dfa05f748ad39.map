{"version":3,"sources":["/Users/master/Local Sites/testcursor/src/app/__tests__/page.playwright.test.ts"],"sourcesContent":["import { test, expect } from '@playwright/test';\n\ntest.describe('英語学習スタイル診断アプリ', () => {\n  test.beforeEach(async ({ page }) => {\n    await page.goto('http://localhost:3000/', {\n      waitUntil: 'networkidle',\n      timeout: 60000 // タイムアウトを60秒に延長\n    });\n  });\n\n  test('診断を開始できる', async ({ page }) => {\n    await expect(page.locator('h1')).toBeVisible({ timeout: 30000 });\n    const startButton = page.getByRole('button', { name: '診断を始める' });\n    await expect(startButton).toBeVisible({ timeout: 30000 });\n    await startButton.click();\n    await expect(page.locator('.question-card')).toBeVisible({ timeout: 30000 });\n  });\n\n  test('10問の質問に回答できる', async ({ page }) => {\n    const startButton = page.getByRole('button', { name: '診断を始める' });\n    await startButton.click();\n\n    for (let i = 0; i < 10; i++) {\n      const questionCard = page.locator('.question-card');\n      await expect(questionCard).toBeVisible({ timeout: 30000 });\n      \n      const options = page.locator('.option-button');\n      await expect(options.first()).toBeVisible({ timeout: 30000 });\n      await options.first().click();\n      \n      const nextButton = page.getByRole('button', { name: '次へ' });\n      await expect(nextButton).toBeVisible({ timeout: 30000 });\n      await nextButton.click();\n      \n      // 最後の質問の後は結果が表示されるまで待機\n      if (i === 9) {\n        await expect(page.locator('.result-card')).toBeVisible({ timeout: 30000 });\n      }\n    }\n  });\n\n  test('結果をTwitterでシェアできる', async ({ page, context }) => {\n    const startButton = page.getByRole('button', { name: '診断を始める' });\n    await startButton.click();\n\n    // 10問に回答\n    for (let i = 0; i < 10; i++) {\n      const options = page.locator('.option-button');\n      await expect(options.first()).toBeVisible({ timeout: 30000 });\n      await options.first().click();\n      \n      const nextButton = page.getByRole('button', { name: '次へ' });\n      await expect(nextButton).toBeVisible({ timeout: 30000 });\n      await nextButton.click();\n    }\n\n    // 結果画面の表示を待機\n    await expect(page.locator('.result-card')).toBeVisible({ timeout: 30000 });\n\n    // Twitterシェアボタンをクリック\n    const twitterButton = page.getByRole('link', { name: /Twitter/ });\n    await expect(twitterButton).toBeVisible({ timeout: 30000 });\n    \n    // 新しいタブでTwitterシェアページが開くことを確認\n    const [newPage] = await Promise.all([\n      context.waitForEvent('page', { timeout: 30000 }),\n      twitterButton.click()\n    ]);\n\n    expect(newPage.url()).toContain('twitter.com/intent/tweet');\n    await newPage.close();\n  });\n}); "],"names":["test","describe","beforeEach","page","goto","waitUntil","timeout","expect","locator","toBeVisible","startButton","getByRole","name","click","i","questionCard","options","first","nextButton","context","twitterButton","newPage","Promise","all","waitForEvent","url","toContain","close"],"mappings":"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"}