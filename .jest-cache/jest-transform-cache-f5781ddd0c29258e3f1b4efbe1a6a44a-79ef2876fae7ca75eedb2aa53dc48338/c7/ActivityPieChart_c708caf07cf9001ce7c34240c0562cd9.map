{"version":3,"sources":["/Users/master/Local Sites/testcursor/src/components/dashboard/ActivityPieChart.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { \n  PieChart, \n  Pie, \n  Cell, \n  ResponsiveContainer, \n  Tooltip, \n  Legend \n} from 'recharts';\nimport { motion } from 'framer-motion';\n\ninterface ActivityData {\n  name: string;\n  value: number;\n  color: string;\n}\n\ninterface ActivityPieChartProps {\n  data?: ActivityData[];\n  height?: number;\n}\n\nconst ActivityPieChart: React.FC<ActivityPieChartProps> = ({ data, height = 300 }) => {\n  // サンプルデータ\n  const sampleData = [\n    { name: '教材作成', value: 40, color: '#3B82F6' },  // 青\n    { name: '教材閲覧', value: 30, color: '#10B981' },  // 緑\n    { name: 'コメント', value: 20, color: '#6366F1' },  // 紫\n    { name: 'いいね', value: 10, color: '#F59E0B' }     // オレンジ\n  ];\n\n  // 実際のデータがない場合はサンプルデータを使用\n  const chartData = data || sampleData;\n\n  // カスタムツールチップ\n  const CustomTooltip = ({ active, payload }: any) => {\n    if (active && payload && payload.length) {\n      return (\n        <div className=\"bg-white p-3 border border-gray-200 rounded-md shadow-sm\">\n          <p className=\"font-medium\">{`${payload[0].name}: ${payload[0].value}%`}</p>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  // カスタムレジェンド\n  const renderCustomizedLegend = (props: any) => {\n    const { payload } = props;\n    return (\n      <div className=\"flex flex-wrap justify-center gap-4 mt-2\">\n        {payload.map((entry: any, index: number) => (\n          <div key={`legend-${index}`} className=\"flex items-center\">\n            <div \n              className=\"w-3 h-3 rounded-full mr-2\" \n              style={{ backgroundColor: entry.color }}\n            />\n            <span className=\"text-sm text-gray-600\">{entry.value}</span>\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  // アニメーション設定\n  const containerVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        duration: 0.5,\n        ease: 'easeOut'\n      }\n    }\n  };\n\n  const titleVariants = {\n    hidden: { opacity: 0, x: -20 },\n    visible: {\n      opacity: 1,\n      x: 0,\n      transition: {\n        delay: 0.2,\n        duration: 0.4\n      }\n    }\n  };\n\n  return (\n    <motion.div \n      className=\"bg-white rounded-lg shadow-md p-4 sm:p-6\"\n      initial=\"hidden\"\n      animate=\"visible\"\n      variants={containerVariants}\n    >\n      <motion.h3 \n        className=\"text-lg font-semibold text-gray-700 mb-4\"\n        variants={titleVariants}\n      >\n        活動種類の分布\n      </motion.h3>\n      <motion.div \n        className=\"mt-2 mb-1 text-sm text-gray-500\"\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.4, duration: 0.3 }}\n      >\n        活動内容の割合を確認できます\n      </motion.div>\n      <motion.div\n        initial={{ opacity: 0, rotate: -10, scale: 0.8 }}\n        animate={{ opacity: 1, rotate: 0, scale: 1 }}\n        transition={{ \n          delay: 0.6, \n          duration: 0.7,\n          type: 'spring',\n          stiffness: 80\n        }}\n        style={{ width: '100%', height: height }}\n      >\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <PieChart>\n            <Pie\n              data={chartData}\n              cx=\"50%\"\n              cy=\"50%\"\n              labelLine={false}\n              outerRadius={80}\n              fill=\"#8884d8\"\n              dataKey=\"value\"\n              animationBegin={300}\n              animationDuration={800}\n            >\n              {chartData.map((entry, index) => (\n                <Cell key={`cell-${index}`} fill={entry.color} />\n              ))}\n            </Pie>\n            <Tooltip content={<CustomTooltip />} />\n            <Legend \n              content={renderCustomizedLegend}\n              layout=\"horizontal\"\n              verticalAlign=\"bottom\"\n              align=\"center\"\n            />\n          </PieChart>\n        </ResponsiveContainer>\n      </motion.div>\n    </motion.div>\n  );\n};\n\nexport default ActivityPieChart; "],"names":["ActivityPieChart","data","height","sampleData","name","value","color","chartData","CustomTooltip","active","payload","length","div","className","p","renderCustomizedLegend","props","map","entry","index","style","backgroundColor","span","containerVariants","hidden","opacity","y","visible","transition","duration","ease","titleVariants","x","delay","motion","initial","animate","variants","h3","rotate","scale","type","stiffness","width","ResponsiveContainer","PieChart","Pie","cx","cy","labelLine","outerRadius","fill","dataKey","animationBegin","animationDuration","Cell","Tooltip","content","Legend","layout","verticalAlign","align"],"mappings":"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"}