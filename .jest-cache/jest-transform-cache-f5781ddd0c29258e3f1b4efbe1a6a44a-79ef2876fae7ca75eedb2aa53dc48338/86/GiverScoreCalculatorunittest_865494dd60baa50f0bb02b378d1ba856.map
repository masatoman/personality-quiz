{"version":3,"sources":["/Users/master/Local Sites/testcursor/src/utils/giver-score/test/GiverScoreCalculator.unit.test.ts"],"sourcesContent":["import { calculateTimeDecay, calculateGiverLevel, determinePersonalityType } from '../index';\nimport { ScoreChange } from '@/types/quiz';\n\ndescribe('GiverScoreCalculator', () => {\n  describe('calculateTimeDecay', () => {\n    it('0日の場合は減衰なしで1.0を返す', () => {\n      expect(calculateTimeDecay(0)).toBe(1);\n    });\n\n    it('30日経過で約50%に減衰する', () => {\n      const decay = calculateTimeDecay(30);\n      expect(decay).toBeCloseTo(0.5, 1);\n    });\n\n    it('60日経過で約25%に減衰する', () => {\n      const decay = calculateTimeDecay(60);\n      expect(decay).toBeCloseTo(0.25, 1);\n    });\n  });\n\n  describe('calculateGiverLevel', () => {\n    it('スコア0はレベル1になる', () => {\n      expect(calculateGiverLevel(0)).toBe(1);\n    });\n\n    it('スコア50はレベル1になる', () => {\n      expect(calculateGiverLevel(50)).toBe(1);\n    });\n\n    it('スコア100はレベル2になる', () => {\n      expect(calculateGiverLevel(100)).toBe(2);\n    });\n\n    it('スコア350はレベル4になる', () => {\n      expect(calculateGiverLevel(350)).toBe(4);\n    });\n\n    it('スコア999はレベル10になる（最大値制限）', () => {\n      expect(calculateGiverLevel(999)).toBe(10);\n    });\n  });\n\n  describe('determinePersonalityType', () => {\n    it('ギバースコアが最も高いとギバータイプになる', () => {\n      expect(determinePersonalityType(10, 5, 3)).toBe('giver');\n    });\n\n    it('テイカースコアが最も高いとテイカータイプになる', () => {\n      expect(determinePersonalityType(5, 10, 3)).toBe('taker');\n    });\n\n    it('マッチャースコアが最も高いとマッチャータイプになる', () => {\n      expect(determinePersonalityType(5, 3, 10)).toBe('matcher');\n    });\n\n    it('同点の場合は最初に見つかったタイプが選ばれる', () => {\n      // 全て同点の場合、実装では最初にチェックされるタイプ（giver）が選ばれる\n      expect(determinePersonalityType(5, 5, 5)).toBe('giver');\n    });\n  });\n}); "],"names":["describe","it","expect","calculateTimeDecay","toBe","decay","toBeCloseTo","calculateGiverLevel","determinePersonalityType"],"mappings":";;;;uBAAkF;AAGlFA,SAAS,wBAAwB;IAC/BA,SAAS,sBAAsB;QAC7BC,GAAG,qBAAqB;YACtBC,OAAOC,IAAAA,yBAAkB,EAAC,IAAIC,IAAI,CAAC;QACrC;QAEAH,GAAG,mBAAmB;YACpB,MAAMI,QAAQF,IAAAA,yBAAkB,EAAC;YACjCD,OAAOG,OAAOC,WAAW,CAAC,KAAK;QACjC;QAEAL,GAAG,mBAAmB;YACpB,MAAMI,QAAQF,IAAAA,yBAAkB,EAAC;YACjCD,OAAOG,OAAOC,WAAW,CAAC,MAAM;QAClC;IACF;IAEAN,SAAS,uBAAuB;QAC9BC,GAAG,gBAAgB;YACjBC,OAAOK,IAAAA,0BAAmB,EAAC,IAAIH,IAAI,CAAC;QACtC;QAEAH,GAAG,iBAAiB;YAClBC,OAAOK,IAAAA,0BAAmB,EAAC,KAAKH,IAAI,CAAC;QACvC;QAEAH,GAAG,kBAAkB;YACnBC,OAAOK,IAAAA,0BAAmB,EAAC,MAAMH,IAAI,CAAC;QACxC;QAEAH,GAAG,kBAAkB;YACnBC,OAAOK,IAAAA,0BAAmB,EAAC,MAAMH,IAAI,CAAC;QACxC;QAEAH,GAAG,0BAA0B;YAC3BC,OAAOK,IAAAA,0BAAmB,EAAC,MAAMH,IAAI,CAAC;QACxC;IACF;IAEAJ,SAAS,4BAA4B;QACnCC,GAAG,yBAAyB;YAC1BC,OAAOM,IAAAA,+BAAwB,EAAC,IAAI,GAAG,IAAIJ,IAAI,CAAC;QAClD;QAEAH,GAAG,2BAA2B;YAC5BC,OAAOM,IAAAA,+BAAwB,EAAC,GAAG,IAAI,IAAIJ,IAAI,CAAC;QAClD;QAEAH,GAAG,6BAA6B;YAC9BC,OAAOM,IAAAA,+BAAwB,EAAC,GAAG,GAAG,KAAKJ,IAAI,CAAC;QAClD;QAEAH,GAAG,0BAA0B;YAC3B,wCAAwC;YACxCC,OAAOM,IAAAA,+BAAwB,EAAC,GAAG,GAAG,IAAIJ,IAAI,CAAC;QACjD;IACF;AACF"}