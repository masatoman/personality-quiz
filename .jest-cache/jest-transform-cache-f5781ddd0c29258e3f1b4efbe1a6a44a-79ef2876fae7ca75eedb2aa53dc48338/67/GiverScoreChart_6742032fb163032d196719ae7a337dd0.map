{"version":3,"sources":["/Users/master/Local Sites/testcursor/src/components/dashboard/GiverScoreChart.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { \n  LineChart, \n  Line, \n  XAxis, \n  YAxis, \n  CartesianGrid, \n  Tooltip, \n  Legend, \n  ResponsiveContainer \n} from 'recharts';\nimport { format } from 'date-fns';\nimport { ja } from 'date-fns/locale';\nimport { motion } from 'framer-motion';\n\ninterface GiverScoreDataPoint {\n  date: string;\n  score: number;\n}\n\ninterface GiverScoreChartProps {\n  data?: GiverScoreDataPoint[];\n  height?: number;\n}\n\nconst GiverScoreChart: React.FC<GiverScoreChartProps> = ({ data, height = 300 }) => {\n  // サンプルデータ\n  const sampleData = [\n    { date: '2023-04-01', score: 0 },\n    { date: '2023-04-08', score: 10 },\n    { date: '2023-04-15', score: 15 },\n    { date: '2023-04-22', score: 20 },\n    { date: '2023-04-29', score: 25 },\n    { date: '2023-05-06', score: 40 },\n    { date: '2023-05-13', score: 50 }\n  ];\n\n  // 実際のデータがない場合はサンプルデータを使用\n  const chartData = data || sampleData;\n\n  const formatDate = (dateStr: string) => {\n    try {\n      const date = new Date(dateStr);\n      return format(date, 'MM/dd', { locale: ja });\n    } catch (error) {\n      console.error('日付の変換エラー:', error);\n      return dateStr;\n    }\n  };\n\n  // デザイン仕様書に合わせた色\n  const mainColor = '#3B82F6'; // メインカラー\n  const gridColor = '#E5E7EB'; // ボーダー色\n\n  // アニメーション設定\n  const containerVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: {\n      opacity: 1,\n      y: 0,\n      transition: {\n        duration: 0.5,\n        ease: 'easeOut'\n      }\n    }\n  };\n\n  const titleVariants = {\n    hidden: { opacity: 0, x: -20 },\n    visible: {\n      opacity: 1,\n      x: 0,\n      transition: {\n        delay: 0.2,\n        duration: 0.4\n      }\n    }\n  };\n\n  return (\n    <motion.div \n      className=\"bg-white rounded-lg shadow-md p-4 sm:p-6\"\n      initial=\"hidden\"\n      animate=\"visible\"\n      variants={containerVariants}\n    >\n      <motion.h3 \n        className=\"text-lg font-semibold text-gray-700 mb-4\"\n        variants={titleVariants}\n      >\n        ギバースコア推移\n      </motion.h3>\n      <motion.div \n        className=\"mt-2 mb-1 text-sm text-gray-500\"\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.4, duration: 0.3 }}\n      >\n        過去の活動によるスコア変化を確認できます\n      </motion.div>\n      <motion.div\n        initial={{ opacity: 0, scale: 0.9 }}\n        animate={{ opacity: 1, scale: 1 }}\n        transition={{ \n          delay: 0.5, \n          duration: 0.5,\n          type: 'spring',\n          stiffness: 100\n        }}\n        style={{ width: '100%', height: height }}\n      >\n        <ResponsiveContainer width=\"100%\" height=\"100%\">\n          <LineChart\n            data={chartData}\n            margin={{\n              top: 5,\n              right: 10,\n              left: 0,\n              bottom: 5,\n            }}\n          >\n            <CartesianGrid strokeDasharray=\"3 3\" stroke={gridColor} />\n            <XAxis \n              dataKey=\"date\" \n              tickFormatter={formatDate}\n              tick={{ fontSize: 12, fill: '#6B7280' }}\n              axisLine={{ stroke: gridColor }}\n              tickLine={{ stroke: gridColor }}\n              dy={10}\n            />\n            <YAxis \n              tick={{ fontSize: 12, fill: '#6B7280' }}\n              domain={[0, (dataMax: number) => Math.ceil(dataMax * 1.1)]}\n              axisLine={{ stroke: gridColor }}\n              tickLine={{ stroke: gridColor }}\n              width={30}\n            />\n            <Tooltip \n              formatter={(value) => [`${value} ポイント`, 'ギバースコア']}\n              labelFormatter={(label) => `日付: ${formatDate(label.toString())}`}\n              contentStyle={{ \n                borderRadius: '0.375rem', \n                border: '1px solid #E5E7EB',\n                boxShadow: '0 1px 2px rgba(0, 0, 0, 0.05)'\n              }}\n            />\n            <Legend \n              verticalAlign=\"top\" \n              height={30} \n              formatter={() => '獲得ポイント'}\n            />\n            <Line\n              type=\"monotone\"\n              dataKey=\"score\"\n              name=\"ギバースコア\"\n              stroke={mainColor}\n              activeDot={{ r: 7, stroke: 'white', strokeWidth: 2 }}\n              strokeWidth={2.5}\n              dot={{ stroke: mainColor, strokeWidth: 2, r: 4, fill: 'white' }}\n            />\n          </LineChart>\n        </ResponsiveContainer>\n      </motion.div>\n    </motion.div>\n  );\n};\n\nexport default GiverScoreChart; "],"names":["GiverScoreChart","data","height","sampleData","date","score","chartData","formatDate","dateStr","Date","format","locale","ja","error","console","mainColor","gridColor","containerVariants","hidden","opacity","y","visible","transition","duration","ease","titleVariants","x","delay","motion","div","className","initial","animate","variants","h3","scale","type","stiffness","style","width","ResponsiveContainer","LineChart","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","stroke","XAxis","dataKey","tickFormatter","tick","fontSize","fill","axisLine","tickLine","dy","YAxis","domain","dataMax","Math","ceil","Tooltip","formatter","value","labelFormatter","label","toString","contentStyle","borderRadius","border","boxShadow","Legend","verticalAlign","Line","name","activeDot","r","strokeWidth","dot"],"mappings":"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"}