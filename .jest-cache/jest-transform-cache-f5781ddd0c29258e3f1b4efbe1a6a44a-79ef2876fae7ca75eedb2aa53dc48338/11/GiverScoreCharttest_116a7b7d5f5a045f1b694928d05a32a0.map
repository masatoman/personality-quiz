{"version":3,"sources":["/Users/master/Local Sites/testcursor/src/components/dashboard/__tests__/GiverScoreChart.test.tsx"],"sourcesContent":["import { render, screen } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport GiverScoreChart from '../GiverScoreChart';\n\n// モックを設定してframer-motionのアニメーションによるエラーを回避\njest.mock('framer-motion', () => ({\n  motion: {\n    div: ({ children, ...props }: any) => <div {...props}>{children}</div>,\n    h3: ({ children, ...props }: any) => <h3 {...props}>{children}</h3>,\n  },\n}));\n\n// Rechartsのコンポーネントをモック\njest.mock('recharts', () => {\n  const OriginalModule = jest.requireActual('recharts');\n  return {\n    ...OriginalModule,\n    ResponsiveContainer: ({ children }: any) => <div data-testid=\"responsive-container\">{children}</div>,\n    LineChart: ({ children }: any) => <div data-testid=\"line-chart\">{children}</div>,\n    Line: () => <div data-testid=\"line\" />,\n    XAxis: () => <div data-testid=\"x-axis\" />,\n    YAxis: () => <div data-testid=\"y-axis\" />,\n    CartesianGrid: () => <div data-testid=\"cartesian-grid\" />,\n    Tooltip: () => <div data-testid=\"tooltip\" />,\n    Legend: () => <div data-testid=\"legend\" />,\n  };\n});\n\ndescribe('GiverScoreChart', () => {\n  const mockData = [\n    { date: '2023-04-01', score: 10 },\n    { date: '2023-04-08', score: 20 },\n    { date: '2023-04-15', score: 30 },\n  ];\n\n  it('コンポーネントが正しくレンダリングされること', () => {\n    render(<GiverScoreChart />);\n    \n    // タイトルと説明テキストが正しく表示されていることを確認\n    expect(screen.getByText('ギバースコア推移')).toBeInTheDocument();\n    expect(screen.getByText('過去の活動によるスコア変化を確認できます')).toBeInTheDocument();\n  });\n\n  it('Rechartsのコンポーネントが正しくレンダリングされること', () => {\n    render(<GiverScoreChart />);\n    \n    // Rechartsの各コンポーネントが正しくレンダリングされていることを確認\n    expect(screen.getByTestId('responsive-container')).toBeInTheDocument();\n    expect(screen.getByTestId('line-chart')).toBeInTheDocument();\n    expect(screen.getByTestId('line')).toBeInTheDocument();\n    expect(screen.getByTestId('x-axis')).toBeInTheDocument();\n    expect(screen.getByTestId('y-axis')).toBeInTheDocument();\n    expect(screen.getByTestId('cartesian-grid')).toBeInTheDocument();\n    expect(screen.getByTestId('tooltip')).toBeInTheDocument();\n    expect(screen.getByTestId('legend')).toBeInTheDocument();\n  });\n\n  it('カスタムデータを渡した場合、そのデータが使われること', () => {\n    // この部分はUIテストだけでは検証が難しいため、\n    // スパイを使って内部実装を検証するより高度なテストが必要になります\n    // ここでは基本的なレンダリングテストのみ実施\n    render(<GiverScoreChart data={mockData} />);\n    \n    expect(screen.getByText('ギバースコア推移')).toBeInTheDocument();\n  });\n\n  it('高さのプロパティが正しく適用されること', () => {\n    const customHeight = 500;\n    render(<GiverScoreChart height={customHeight} />);\n    \n    // コンポーネントが正しくレンダリングされていることを確認\n    expect(screen.getByText('ギバースコア推移')).toBeInTheDocument();\n    \n    // 注: 実際のDOMでの高さ検証はframer-motionのモック化により複雑になるため省略\n  });\n}); "],"names":["jest","mock","motion","div","children","props","h3","OriginalModule","requireActual","ResponsiveContainer","data-testid","LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","describe","mockData","date","score","it","render","GiverScoreChart","expect","screen","getByText","toBeInTheDocument","getByTestId","data","customHeight","height"],"mappings":";AAIA,yCAAyC;AACzCA,KAAKC,IAAI,CAAC,iBAAiB,IAAO,CAAA;QAChCC,QAAQ;YACNC,KAAK,CAAC,EAAEC,QAAQ,EAAE,GAAGC,OAAY,iBAAK,qBAACF;oBAAK,GAAGE,KAAK;8BAAGD;;YACvDE,IAAI,CAAC,EAAEF,QAAQ,EAAE,GAAGC,OAAY,iBAAK,qBAACC;oBAAI,GAAGD,KAAK;8BAAGD;;QACvD;IACF,CAAA;AAEA,uBAAuB;AACvBJ,KAAKC,IAAI,CAAC,YAAY;IACpB,MAAMM,iBAAiBP,KAAKQ,aAAa,CAAC;IAC1C,OAAO;QACL,GAAGD,cAAc;QACjBE,qBAAqB,CAAC,EAAEL,QAAQ,EAAO,iBAAK,qBAACD;gBAAIO,eAAY;0BAAwBN;;QACrFO,WAAW,CAAC,EAAEP,QAAQ,EAAO,iBAAK,qBAACD;gBAAIO,eAAY;0BAAcN;;QACjEQ,MAAM,kBAAM,qBAACT;gBAAIO,eAAY;;QAC7BG,OAAO,kBAAM,qBAACV;gBAAIO,eAAY;;QAC9BI,OAAO,kBAAM,qBAACX;gBAAIO,eAAY;;QAC9BK,eAAe,kBAAM,qBAACZ;gBAAIO,eAAY;;QACtCM,SAAS,kBAAM,qBAACb;gBAAIO,eAAY;;QAChCO,QAAQ,kBAAM,qBAACd;gBAAIO,eAAY;;IACjC;AACF;;;;;uBA1B+B;QACxB;wEACqB;;;;;;AA0B5BQ,SAAS,mBAAmB;IAC1B,MAAMC,WAAW;QACf;YAAEC,MAAM;YAAcC,OAAO;QAAG;QAChC;YAAED,MAAM;YAAcC,OAAO;QAAG;QAChC;YAAED,MAAM;YAAcC,OAAO;QAAG;KACjC;IAEDC,GAAG,0BAA0B;QAC3BC,IAAAA,aAAM,gBAAC,qBAACC,wBAAe;QAEvB,8BAA8B;QAC9BC,OAAOC,aAAM,CAACC,SAAS,CAAC,aAAaC,iBAAiB;QACtDH,OAAOC,aAAM,CAACC,SAAS,CAAC,yBAAyBC,iBAAiB;IACpE;IAEAN,GAAG,mCAAmC;QACpCC,IAAAA,aAAM,gBAAC,qBAACC,wBAAe;QAEvB,wCAAwC;QACxCC,OAAOC,aAAM,CAACG,WAAW,CAAC,yBAAyBD,iBAAiB;QACpEH,OAAOC,aAAM,CAACG,WAAW,CAAC,eAAeD,iBAAiB;QAC1DH,OAAOC,aAAM,CAACG,WAAW,CAAC,SAASD,iBAAiB;QACpDH,OAAOC,aAAM,CAACG,WAAW,CAAC,WAAWD,iBAAiB;QACtDH,OAAOC,aAAM,CAACG,WAAW,CAAC,WAAWD,iBAAiB;QACtDH,OAAOC,aAAM,CAACG,WAAW,CAAC,mBAAmBD,iBAAiB;QAC9DH,OAAOC,aAAM,CAACG,WAAW,CAAC,YAAYD,iBAAiB;QACvDH,OAAOC,aAAM,CAACG,WAAW,CAAC,WAAWD,iBAAiB;IACxD;IAEAN,GAAG,8BAA8B;QAC/B,0BAA0B;QAC1B,mCAAmC;QACnC,wBAAwB;QACxBC,IAAAA,aAAM,gBAAC,qBAACC,wBAAe;YAACM,MAAMX;;QAE9BM,OAAOC,aAAM,CAACC,SAAS,CAAC,aAAaC,iBAAiB;IACxD;IAEAN,GAAG,uBAAuB;QACxB,MAAMS,eAAe;QACrBR,IAAAA,aAAM,gBAAC,qBAACC,wBAAe;YAACQ,QAAQD;;QAEhC,8BAA8B;QAC9BN,OAAOC,aAAM,CAACC,SAAS,CAAC,aAAaC,iBAAiB;IAEtD,iDAAiD;IACnD;AACF"}