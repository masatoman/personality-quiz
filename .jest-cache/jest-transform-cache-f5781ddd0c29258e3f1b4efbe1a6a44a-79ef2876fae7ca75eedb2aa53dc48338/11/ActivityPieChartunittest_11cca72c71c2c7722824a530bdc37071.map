{"version":3,"sources":["/Users/master/Local Sites/testcursor/src/components/dashboard/__tests__/ActivityPieChart.unit.test.tsx"],"sourcesContent":["import React from 'react';\nimport { render, screen } from '@testing-library/react';\nimport ActivityPieChart from '../ActivityPieChart';\n\n// recharts はテスト環境ではエラーになるため、モック化する\njest.mock('recharts', () => ({\n  PieChart: ({ children }: { children: React.ReactNode }) => (\n    <div data-testid=\"pie-chart\">{children}</div>\n  ),\n  Pie: ({ children }: { children: React.ReactNode }) => (\n    <div data-testid=\"pie\">{children}</div>\n  ),\n  Cell: () => <div data-testid=\"cell\" />,\n  Tooltip: () => <div data-testid=\"tooltip\" />,\n  Legend: () => <div data-testid=\"legend\" />,\n  ResponsiveContainer: ({ children }: { children: React.ReactNode }) => (\n    <div data-testid=\"responsive-container\">{children}</div>\n  ),\n}));\n\ndescribe('ActivityPieChart', () => {\n  const mockActivityCounts = {\n    CREATE_CONTENT: 5,\n    PROVIDE_FEEDBACK: 3,\n    CONSUME_CONTENT: 10,\n    COMPLETE_QUIZ: 2\n  };\n\n  it('renders the chart with title', () => {\n    render(<ActivityPieChart activityCounts={mockActivityCounts} />);\n    \n    expect(screen.getByText('活動種類')).toBeInTheDocument();\n    expect(screen.getByTestId('responsive-container')).toBeInTheDocument();\n    expect(screen.getByTestId('pie-chart')).toBeInTheDocument();\n  });\n\n  it('renders with default height', () => {\n    render(<ActivityPieChart activityCounts={mockActivityCounts} />);\n    \n    const container = screen.getByTestId('responsive-container');\n    expect(container).toHaveAttribute('height', '300');\n  });\n\n  it('renders with custom height', () => {\n    render(<ActivityPieChart activityCounts={mockActivityCounts} height={400} />);\n    \n    const container = screen.getByTestId('responsive-container');\n    expect(container).toHaveAttribute('height', '400');\n  });\n\n  it('displays message when there is no activity data', () => {\n    const emptyActivityCounts = {\n      CREATE_CONTENT: 0,\n      PROVIDE_FEEDBACK: 0,\n      CONSUME_CONTENT: 0,\n      COMPLETE_QUIZ: 0\n    };\n    \n    render(<ActivityPieChart activityCounts={emptyActivityCounts} />);\n    \n    expect(screen.getByText('まだ活動データがありません')).toBeInTheDocument();\n    expect(screen.queryByTestId('pie')).not.toBeInTheDocument();\n  });\n}); "],"names":["jest","mock","PieChart","children","div","data-testid","Pie","Cell","Tooltip","Legend","ResponsiveContainer","describe","mockActivityCounts","CREATE_CONTENT","PROVIDE_FEEDBACK","CONSUME_CONTENT","COMPLETE_QUIZ","it","render","ActivityPieChart","activityCounts","expect","screen","getByText","toBeInTheDocument","getByTestId","container","toHaveAttribute","height","emptyActivityCounts","queryByTestId","not"],"mappings":";AAIA,mCAAmC;AACnCA,KAAKC,IAAI,CAAC,YAAY,IAAO,CAAA;QAC3BC,UAAU,CAAC,EAAEC,QAAQ,EAAiC,iBACpD,qBAACC;gBAAIC,eAAY;0BAAaF;;QAEhCG,KAAK,CAAC,EAAEH,QAAQ,EAAiC,iBAC/C,qBAACC;gBAAIC,eAAY;0BAAOF;;QAE1BI,MAAM,kBAAM,qBAACH;gBAAIC,eAAY;;QAC7BG,SAAS,kBAAM,qBAACJ;gBAAIC,eAAY;;QAChCI,QAAQ,kBAAM,qBAACL;gBAAIC,eAAY;;QAC/BK,qBAAqB,CAAC,EAAEP,QAAQ,EAAiC,iBAC/D,qBAACC;gBAAIC,eAAY;0BAAwBF;;IAE7C,CAAA;;;;;8DAlBkB;wBACa;yEACF;;;;;;AAkB7BQ,SAAS,oBAAoB;IAC3B,MAAMC,qBAAqB;QACzBC,gBAAgB;QAChBC,kBAAkB;QAClBC,iBAAiB;QACjBC,eAAe;IACjB;IAEAC,GAAG,gCAAgC;QACjCC,IAAAA,cAAM,gBAAC,qBAACC,yBAAgB;YAACC,gBAAgBR;;QAEzCS,OAAOC,cAAM,CAACC,SAAS,CAAC,SAASC,iBAAiB;QAClDH,OAAOC,cAAM,CAACG,WAAW,CAAC,yBAAyBD,iBAAiB;QACpEH,OAAOC,cAAM,CAACG,WAAW,CAAC,cAAcD,iBAAiB;IAC3D;IAEAP,GAAG,+BAA+B;QAChCC,IAAAA,cAAM,gBAAC,qBAACC,yBAAgB;YAACC,gBAAgBR;;QAEzC,MAAMc,YAAYJ,cAAM,CAACG,WAAW,CAAC;QACrCJ,OAAOK,WAAWC,eAAe,CAAC,UAAU;IAC9C;IAEAV,GAAG,8BAA8B;QAC/BC,IAAAA,cAAM,gBAAC,qBAACC,yBAAgB;YAACC,gBAAgBR;YAAoBgB,QAAQ;;QAErE,MAAMF,YAAYJ,cAAM,CAACG,WAAW,CAAC;QACrCJ,OAAOK,WAAWC,eAAe,CAAC,UAAU;IAC9C;IAEAV,GAAG,mDAAmD;QACpD,MAAMY,sBAAsB;YAC1BhB,gBAAgB;YAChBC,kBAAkB;YAClBC,iBAAiB;YACjBC,eAAe;QACjB;QAEAE,IAAAA,cAAM,gBAAC,qBAACC,yBAAgB;YAACC,gBAAgBS;;QAEzCR,OAAOC,cAAM,CAACC,SAAS,CAAC,kBAAkBC,iBAAiB;QAC3DH,OAAOC,cAAM,CAACQ,aAAa,CAAC,QAAQC,GAAG,CAACP,iBAAiB;IAC3D;AACF"}