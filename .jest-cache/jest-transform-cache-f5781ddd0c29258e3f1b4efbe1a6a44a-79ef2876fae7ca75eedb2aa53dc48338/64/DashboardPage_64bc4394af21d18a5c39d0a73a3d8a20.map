{"version":3,"sources":["/Users/master/Local Sites/testcursor/src/components/dashboard/DashboardPage.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { FaUserCircle, FaBell, FaSearch, FaChartLine, FaBookOpen, FaAward } from 'react-icons/fa';\nimport { useAuth } from '@/hooks/useAuth';\n\n// サブコンポーネントをインポート\nimport ActivitySummary from './ActivitySummary';\nimport GiverScoreChart from './GiverScoreChart';\nimport ActivityTypeChart from './ActivityTypeChart';\n\n// ユーザー型を定義\ninterface User {\n  id: string;\n  name?: string;\n  email: string;\n}\n\n// ダッシュボードページコンポーネント\nconst DashboardPage: React.FC = () => {\n  const { user, loading: authLoading } = useAuth();\n  const [userName, setUserName] = useState<string>('');\n  const [activeTab, setActiveTab] = useState<'overview' | 'materials' | 'progress'>('overview');\n  \n  // ユーザーデータ取得\n  useEffect(() => {\n    if (user) {\n      // ユーザー名の設定（実際のアプリではユーザー情報から取得）\n      setUserName(user.email?.split('@')[0] || 'ユーザー');\n    }\n  }, [user]);\n\n  // 認証待機中\n  if (authLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  // 未認証の場合\n  if (!user) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-50 p-4\">\n        <div className=\"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center\">\n          <h1 className=\"text-2xl font-bold mb-4\">ログインが必要です</h1>\n          <p className=\"mb-6 text-gray-600\">\n            ダッシュボードを表示するには、ログインが必要です。\n          </p>\n          <button\n            className=\"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition-colors\"\n            onClick={() => {/* ログイン画面へ遷移 */}}\n          >\n            ログインする\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  // タブ切り替え関数\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case 'overview':\n        return (\n          <>\n            {/* 活動サマリー */}\n            <ActivitySummary userId={user.id} />\n            \n            {/* チャートセクション */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\n              <GiverScoreChart userId={user.id} />\n              <ActivityTypeChart userId={user.id} />\n            </div>\n            \n            {/* レコメンドセクション */}\n            <div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\n              <h2 className=\"text-xl font-bold mb-4 flex items-center\">\n                <FaAward className=\"mr-2 text-yellow-500\" />\n                今日のレコメンド\n              </h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n                {/* レコメンドカード1 */}\n                <div className=\"border rounded-lg p-4 hover:shadow-md transition-shadow\">\n                  <h3 className=\"font-bold mb-2\">英語学習の基本ガイド</h3>\n                  <p className=\"text-sm text-gray-600 mb-3\">\n                    あなたのギバースコアを上げるのに最適な教材です。\n                  </p>\n                  <button className=\"text-blue-600 text-sm hover:underline\">\n                    詳細を見る →\n                  </button>\n                </div>\n                \n                {/* レコメンドカード2 */}\n                <div className=\"border rounded-lg p-4 hover:shadow-md transition-shadow\">\n                  <h3 className=\"font-bold mb-2\">文法マスターへの道</h3>\n                  <p className=\"text-sm text-gray-600 mb-3\">\n                    多くのユーザーから高評価を受けている人気の教材です。\n                  </p>\n                  <button className=\"text-blue-600 text-sm hover:underline\">\n                    詳細を見る →\n                  </button>\n                </div>\n                \n                {/* レコメンドカード3 */}\n                <div className=\"border rounded-lg p-4 hover:shadow-md transition-shadow\">\n                  <h3 className=\"font-bold mb-2\">効果的な単語学習法</h3>\n                  <p className=\"text-sm text-gray-600 mb-3\">\n                    最近のアクティビティに基づくおすすめの教材です。\n                  </p>\n                  <button className=\"text-blue-600 text-sm hover:underline\">\n                    詳細を見る →\n                  </button>\n                </div>\n              </div>\n            </div>\n            \n            {/* 最近の活動 */}\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\n              <h2 className=\"text-xl font-bold mb-4 flex items-center\">\n                <FaChartLine className=\"mr-2 text-blue-500\" />\n                最近の活動\n              </h2>\n              <div className=\"space-y-4\">\n                {[1, 2, 3, 4, 5].map((i) => (\n                  <div key={i} className=\"border-b pb-4 last:border-b-0\">\n                    <div className=\"flex items-start\">\n                      <div className=\"w-2 h-2 rounded-full bg-blue-500 mt-2 mr-3\"></div>\n                      <div>\n                        <p className=\"font-medium\">\n                          {i % 2 === 0 ? '教材「英語リスニング上達のコツ」を作成しました' : \n                           i % 3 === 0 ? '「発音練習の基本」にフィードバックを提供しました' :\n                           '「TOEIC対策講座」を閲覧しました'}\n                        </p>\n                        <p className=\"text-sm text-gray-500 mt-1\">\n                          {`${i}日前`}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <button className=\"w-full mt-4 py-2 text-center text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\">\n                すべての活動を見る\n              </button>\n            </div>\n          </>\n        );\n      case 'materials':\n        return (\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h2 className=\"text-xl font-bold mb-4 flex items-center\">\n              <FaBookOpen className=\"mr-2 text-green-500\" />\n              あなたの教材\n            </h2>\n            <p className=\"text-gray-500 mb-6\">作成した教材と利用中の教材を管理できます</p>\n            \n            {/* ここに教材リストを表示 */}\n            <div className=\"text-center py-10 text-gray-500\">\n              教材コンテンツは開発中です\n            </div>\n          </div>\n        );\n      case 'progress':\n        return (\n          <div className=\"bg-white rounded-lg shadow-md p-6\">\n            <h2 className=\"text-xl font-bold mb-4 flex items-center\">\n              <FaAward className=\"mr-2 text-purple-500\" />\n              学習進捗\n            </h2>\n            <p className=\"text-gray-500 mb-6\">あなたの学習進捗と成果を確認できます</p>\n            \n            {/* ここに進捗グラフなどを表示 */}\n            <div className=\"text-center py-10 text-gray-500\">\n              進捗詳細機能は開発中です\n            </div>\n          </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* ヘッダー */}\n      <header className=\"bg-white shadow-sm sticky top-0 z-10\">\n        <div className=\"container mx-auto px-4 py-4\">\n          <div className=\"flex justify-between items-center\">\n            <h1 className=\"text-2xl font-bold text-gray-800\">ダッシュボード</h1>\n            <div className=\"flex items-center space-x-4\">\n              <button className=\"p-2 text-gray-600 hover:text-gray-900 relative\">\n                <FaBell />\n                <span className=\"absolute top-0 right-0 h-2 w-2 bg-red-500 rounded-full\"></span>\n              </button>\n              <div className=\"flex items-center\">\n                <FaUserCircle className=\"text-gray-600 mr-2\" size={24} />\n                <span className=\"font-medium\">{userName}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </header>\n      \n      <main className=\"container mx-auto px-4 py-8\">\n        {/* 検索バー */}\n        <div className=\"bg-white rounded-lg shadow-md p-4 mb-6\">\n          <div className=\"relative\">\n            <input\n              type=\"text\"\n              placeholder=\"教材を検索...\"\n              className=\"w-full py-2 pl-10 pr-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            />\n            <FaSearch className=\"absolute left-3 top-3 text-gray-400\" />\n          </div>\n        </div>\n        \n        {/* タブナビゲーション */}\n        <div className=\"mb-6 border-b\">\n          <div className=\"flex space-x-4\">\n            <button\n              className={`py-2 px-4 font-medium ${activeTab === 'overview' \n                ? 'text-blue-600 border-b-2 border-blue-600' \n                : 'text-gray-600 hover:text-gray-900'}`}\n              onClick={() => setActiveTab('overview')}\n            >\n              概要\n            </button>\n            <button\n              className={`py-2 px-4 font-medium ${activeTab === 'materials' \n                ? 'text-blue-600 border-b-2 border-blue-600' \n                : 'text-gray-600 hover:text-gray-900'}`}\n              onClick={() => setActiveTab('materials')}\n            >\n              教材\n            </button>\n            <button\n              className={`py-2 px-4 font-medium ${activeTab === 'progress' \n                ? 'text-blue-600 border-b-2 border-blue-600' \n                : 'text-gray-600 hover:text-gray-900'}`}\n              onClick={() => setActiveTab('progress')}\n            >\n              進捗\n            </button>\n          </div>\n        </div>\n        \n        {/* タブコンテンツ */}\n        {renderTabContent()}\n      </main>\n    </div>\n  );\n};\n\nexport default DashboardPage; "],"names":["DashboardPage","user","loading","authLoading","useAuth","userName","setUserName","useState","activeTab","setActiveTab","useEffect","email","split","div","className","h1","p","button","onClick","renderTabContent","ActivitySummary","userId","id","GiverScoreChart","ActivityTypeChart","h2","FaAward","h3","FaChartLine","map","i","FaBookOpen","header","FaBell","span","FaUserCircle","size","main","input","type","placeholder","FaSearch"],"mappings":"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"}